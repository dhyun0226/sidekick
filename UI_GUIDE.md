# 📱 Sidekick UI 구조 가이드

> 소셜 독서 앱 "Sidekick"의 화면 및 컴포넌트 구조 문서
>
> **목적:** UI 리뉴얼 및 개발 시 원활한 소통을 위한 참고 자료

---

## 📖 목차

1. [페이지 구조](#-페이지-구조)
2. [컴포넌트 구조](#-컴포넌트-구조)
3. [용어 사전](#-용어-사전)
4. [화면별 구성 요소](#-화면별-구성-요소)

---

## 📄 페이지 구조

### 1. **로그인 페이지** (`/login`)
- **파일:** `pages/login.vue`
- **역할:**
  - 구글 OAuth 소셜 로그인
  - 앱 소개 및 주요 기능 안내
- **주요 기능:**
  - Google 로그인 버튼
  - 서비스 특징 3가지 표시
  - 배경 그라디언트 효과

### 2. **OAuth 콜백** (`/auth/callback`)
- **파일:** `pages/auth/callback.vue`
- **역할:**
  - OAuth 인증 후 리디렉션 처리
  - 프로필 확인 및 온보딩/홈 분기
- **주요 기능:**
  - 사용자 인증 확인
  - 프로필 존재 여부 체크
  - 로딩 스피너 표시

### 3. **온보딩** (`/onboarding`)
- **파일:** `pages/onboarding.vue`
- **역할:**
  - 신규 사용자 닉네임 및 프로필 설정
- **주요 기능:**
  - 닉네임 입력 (필수)
  - 프로필 이미지 업로드 (선택)
  - 유효성 검사

### 4. **홈 (그룹 목록)** (`/`)
- **파일:** `pages/index.vue`
- **별칭:** "My Library", "라이브러리", "메인 홈"
- **역할:**
  - 사용자가 속한 독서 모임 목록 표시
- **주요 기능:**
  - **지금 읽고 있어요** 섹션: 진행 중인 그룹
    - 책 커버 + 블러 배경
    - D-Day 뱃지 (왼쪽 상단)
    - 독서 진행도 바
    - 멤버 수
  - **잠시 쉬고 있어요** 섹션: 책 없는 그룹
  - FAB (플로팅 버튼): 새 그룹 만들기
  - 헤더: 프로필 버튼, 알림 센터, 초대 코드 입력
- **사용 컴포넌트:**
  - `NotificationCenter`
  - `CreateGroupModal`
  - `JoinGroupModal`

### 5. **프로필** (`/profile`)
- **파일:** `pages/profile.vue`
- **별칭:** "마이 페이지", "내 정보"
- **역할:**
  - 사용자 프로필 정보 표시 및 수정
  - 독서 통계 확인
- **주요 기능:**
  - 프로필 이미지 변경
  - 닉네임 수정
  - 독서 통계 카드
  - 월별 독서량 차트 (최근 12개월)
  - 독서 히트맵 (잔디심기 스타일)
  - 로그아웃
- **사용 컴포넌트:**
  - `ReadingStatsCard`
  - `MonthlyReadingChart`
  - `ReadingHeatmap`
  - `ReadingHistoryModal`

### 6. **그룹 상세** (`/group/[id]`)
- **파일:** `pages/group/[id].vue`
- **별칭:** "독서 모임 페이지", "그룹 타임라인", "읽기 화면"
- **역할:**
  - 특정 독서 모임의 타임라인 및 댓글 표시
  - 책 읽기 진행도 조정
- **주요 구조:**
  ```
  ┌─────────────────────────┐
  │ 1. 상단 네비게이션      │ ← 고정, 스크롤 시 배경 변경
  ├─────────────────────────┤
  │ 2. Hero 섹션 (책 정보)  │ ← 블러 배경 + 책 표지
  │   - 책 커버 (회차 뱃지) │
  │   - 제목 / 저자         │
  │   - D-Day / 멤버 수     │
  ├─────────────────────────┤
  │ 3. 타임라인 (댓글들)    │ ← 스크롤 가능
  │   - 위치별 댓글 그룹    │
  │   - 인용구 + 내용       │
  │   - 좋아요 / 답글       │
  ├─────────────────────────┤
  │ 4. 하단 슬라이더 (고정) │ ← 진행도 조정 핵심 UI
  │   - 드래그 슬라이더     │
  │   - 현재 챕터 표시      │
  │   - 댓글 작성 버튼      │
  │   - 멤버 진행도 (접기)  │
  └─────────────────────────┘
  ```
- **주요 기능:**
  - **상단 네비게이션:**
    - 뒤로가기 (홈으로)
    - 책 제목 (스크롤 시 나타남)
    - 메뉴 버튼 (드로어 열기)
  - **Hero 섹션:**
    - 책 정보 한눈에 보기
    - 블러 처리된 책 표지 배경
    - 3D 효과 책 커버
    - 회차 뱃지 (2회차 등)
  - **타임라인:**
    - 위치별로 그룹화된 댓글
    - 인용구 강조
    - 좋아요 / 답글
    - 상세 모달 (댓글 클릭 시)
  - **하단 슬라이더:**
    - 독서 진행도 실시간 조정
    - 슬라이더 움직이면 타임라인 자동 스크롤
    - 현재 챕터명 표시
    - 댓글 작성 버튼
    - 멤버 진행도 확장 (드래그 업)
  - **사이드 드로어 (우측):**
    - 3개 탭: 정보 / 멤버 / 설정
    - **정보 탭:**
      - 현재 책 정보
      - 관리자 메뉴 (기간/목차/완독/삭제)
      - 목차 바로가기
      - 지난 독서 기록 (리뷰 수정)
      - 통계 보기 버튼
    - **멤버 탭:**
      - 독서 레이스 (진행도 순위)
      - 멤버별 진행도 바
    - **설정 탭:**
      - 초대 코드 복사
      - 그룹 이름 수정 (관리자)
      - 새 책 시작하기
      - 그룹 나가기 / 삭제
- **사용 컴포넌트:**
  - `Timeline`
  - `SmartSlider`
  - `BookSearchModal`
  - `ReviewModal`
  - `GroupStatsModal`

### 7. **초대 코드 입장** (`/join/[code]`)
- **파일:** `pages/join/[code].vue`
- **역할:**
  - 초대 코드로 그룹 참여
- **주요 기능:**
  - 초대 코드 유효성 확인
  - 그룹 정보 미리보기
  - 참여 확인

---

## 🧩 컴포넌트 구조

### **모달 컴포넌트**

#### 1. **CreateGroupModal**
- **용도:** 새 독서 모임 생성
- **기능:**
  - 그룹 이름 입력
  - 생성 완료 후 emit

#### 2. **JoinGroupModal**
- **용도:** 초대 코드로 그룹 입장
- **기능:**
  - 6자리 초대 코드 입력
  - 코드 유효성 검사
  - 참여 완료 후 emit

#### 3. **BookSearchModal**
- **용도:** 새 책 검색 및 추가 (Naver API)
- **기능:**
  - 책 검색 (제목/저자/ISBN)
  - 검색 결과 목록
  - 책 선택 → 독서 기간 설정
  - 목차 자동/수동 입력
  - 확인 후 emit

#### 4. **ReviewModal**
- **용도:** 책 완독 후 리뷰 작성/수정
- **기능:**
  - 별점 선택 (1-5점)
  - 리뷰 내용 입력 (선택)
  - 저장 후 emit

#### 5. **CommentDetailModal**
- **용도:** 댓글 상세 보기 및 답글 작성
- **기능:**
  - 원본 댓글 표시
  - 답글 목록
  - 답글 작성

#### 6. **GroupStatsModal**
- **용도:** 그룹 통계 확인
- **기능:**
  - 요약 통계 (완독 책, 리뷰, 댓글 수)
  - TOP 3 활동 멤버
  - 월별 활동 차트 (6개월)
  - 완독 기록 목록 (평점 포함)

#### 7. **ReadingHistoryModal**
- **용도:** 개인 독서 기록 상세
- **기능:**
  - 완독한 책 목록
  - 리뷰 보기

### **카드/섹션 컴포넌트**

#### 8. **ReadingStatsCard**
- **용도:** 프로필 페이지 독서 통계 요약
- **기능:**
  - 완독 책 수
  - 작성한 리뷰 수
  - 작성한 댓글 수
  - 읽은 페이지 수

#### 9. **MonthlyReadingChart**
- **용도:** 월별 독서량 시각화 (최근 12개월)
- **기능:**
  - 막대 차트 형태
  - 월별 완독 책 수
  - 클릭 시 해당 월 책 목록 표시

#### 10. **ReadingHeatmap**
- **용도:** 독서 활동 히트맵 (잔디심기)
- **기능:**
  - 365일 독서 활동 표시
  - 날짜별 활동량에 따라 색상 변화
  - 호버 시 날짜 정보

### **핵심 UI 컴포넌트**

#### 11. **Timeline**
- **용도:** 그룹 페이지 댓글 타임라인
- **기능:**
  - 위치별 댓글 그룹화 (3% 단위)
  - 인용구 강조 표시
  - 좋아요 / 답글 버튼
  - 댓글 상세 모달 열기
  - 스포일러 방지 (현재 진행도 이전만 표시)

#### 12. **SmartSlider**
- **용도:** 그룹 페이지 하단 진행도 슬라이더 ⭐
- **별칭:** "하단 슬라이더", "독서 슬라이더"
- **기능:**
  - 0-100% 드래그 슬라이더
  - 현재 챕터명 표시
  - 댓글 작성 버튼
  - 멤버 진행도 보기 (확장 가능)
  - 목차 점프 (확장 시)
  - 슬라이더 이동 시 타임라인 자동 스크롤

#### 13. **NotificationCenter**
- **용도:** 알림 센터 (헤더 우측)
- **기능:**
  - 새 댓글 알림
  - 새 답글 알림
  - 알림 개수 뱃지
  - 알림 목록 드롭다운

#### 14. **ToastContainer**
- **용도:** 전역 토스트 알림
- **기능:**
  - 성공/오류/경고/정보 메시지
  - 자동 사라짐
  - 닫기 버튼

---

## 📚 용어 사전

### 화면 용어
| 용어 | 설명 | 파일 |
|------|------|------|
| **홈**, **라이브러리**, **메인** | 그룹 목록 페이지 | `index.vue` |
| **그룹 페이지**, **타임라인**, **읽기 화면** | 특정 그룹의 독서 타임라인 | `group/[id].vue` |
| **프로필**, **마이 페이지** | 사용자 정보 및 통계 | `profile.vue` |

### UI 요소 용어
| 용어 | 설명 |
|------|------|
| **Hero 섹션** | 그룹 페이지 상단 책 정보 영역 (블러 배경) |
| **드로어** | 우측에서 슬라이드되는 메뉴 |
| **FAB** | Floating Action Button (플로팅 버튼) |
| **뱃지** | 회차, D-Day 등 작은 라벨 |
| **하단 슬라이더** | 독서 진행도 조정 슬라이더 (핵심 UI) |
| **타임라인** | 댓글이 위치별로 나열된 피드 |

### 기능 용어
| 용어 | 설명 |
|------|------|
| **D-Day** | 목표 완독일까지 남은 일수 |
| **회차** | 같은 책을 몇 번째 읽는지 (1회, 2회 등) |
| **진행도** | 책을 몇 % 읽었는지 (0-100%) |
| **인용구** | 댓글에 포함된 책 속 문구 (anchor_text) |
| **스포일러 방지** | 본인 진행도 이전 댓글만 보임 |

---

## 🗂️ 화면별 구성 요소

### **1. 홈 페이지** (`/`)

```
┌─────────────────────────────────┐
│ Header                          │
│  - 프로필 이미지 (→ 프로필)    │
│  - "My Library"                 │
│  - 초대 코드 입력 버튼          │
│  - NotificationCenter           │
├─────────────────────────────────┤
│ 🔥 지금 읽고 있어요             │
│  ┌───────────────────────────┐  │
│  │ [책 커버]  책 제목        │  │
│  │ (블러 배경) D-Day 뱃지    │  │
│  │           멤버 수         │  │
│  │           진행도 바       │  │
│  └───────────────────────────┘  │
├─────────────────────────────────┤
│ 💤 잠시 쉬고 있어요             │
│  - 그룹명 + 멤버 수             │
├─────────────────────────────────┤
│                       [+] FAB   │
└─────────────────────────────────┘
```

**사용 컴포넌트:**
- `NotificationCenter`
- `CreateGroupModal` (FAB 클릭 시)
- `JoinGroupModal` (초대 코드 버튼 클릭 시)

---

### **2. 그룹 페이지** (`/group/[id]`)

```
┌─────────────────────────────────┐
│ [← 홈]  책제목  [메뉴]          │ ← 상단 네비게이션 (고정)
├─────────────────────────────────┤
│ Hero 섹션 (블러 배경)           │
│   [책 커버 + 회차 뱃지]         │
│   책 제목 / 저자                │
│   D-Day / 멤버 수               │
├─────────────────────────────────┤
│                                 │
│ Timeline (댓글들)               │
│  📍 35%                         │
│  ┌─────────────────────────┐   │
│  │ "인용구..."             │   │
│  │ 댓글 내용               │   │
│  │ ❤️ 3  💬 1              │   │
│  └─────────────────────────┘   │
│                                 │
├─────────────────────────────────┤
│ SmartSlider (고정)              │
│ ━━━━━━━━○━━━━━━ 42%            │
│ [3장 전개] 💬 📊               │
└─────────────────────────────────┘
```

**드로어 메뉴 (우측):**
```
┌─────────────────────┐
│ 그룹명      [닫기]  │
├─────────────────────┤
│ [정보] [멤버] [설정]│
├─────────────────────┤
│ (탭 내용)           │
│                     │
│                     │
└─────────────────────┘
```

**사용 컴포넌트:**
- `Timeline`
- `SmartSlider`
- `BookSearchModal`
- `ReviewModal`
- `CommentDetailModal`
- `GroupStatsModal`

---

### **3. 프로필 페이지** (`/profile`)

```
┌─────────────────────────────────┐
│ [← 뒤로]  프로필                │
├─────────────────────────────────┤
│     [프로필 이미지]             │
│     닉네임                      │
│     [수정]                      │
├─────────────────────────────────┤
│ ReadingStatsCard                │
│  📚 완독 12권  ⭐ 리뷰 8개      │
│  💬 댓글 45개  📖 페이지 1,203 │
├─────────────────────────────────┤
│ MonthlyReadingChart             │
│  (막대 차트)                    │
├─────────────────────────────────┤
│ ReadingHeatmap                  │
│  (잔디심기)                     │
├─────────────────────────────────┤
│ [로그아웃]                      │
└─────────────────────────────────┘
```

**사용 컴포넌트:**
- `ReadingStatsCard`
- `MonthlyReadingChart`
- `ReadingHeatmap`
- `ReadingHistoryModal`

---

## 🎨 디자인 패턴

### 색상 체계
- **Primary:** Lime-400 (`#a3e635`)
- **Background (Light):** Gray-50
- **Background (Dark):** `#09090b`
- **Border (Light):** Zinc-200
- **Border (Dark):** Zinc-800

### 공통 스타일
- **둥근 모서리:** `rounded-xl` (12px), `rounded-2xl` (16px), `rounded-3xl` (24px)
- **그림자:** `shadow-sm`, `shadow-lg`, `shadow-xl`, `shadow-2xl`
- **블러 효과:** `backdrop-blur-sm`, `backdrop-blur-md`
- **애니메이션:** `transition-all`, `transition-colors`, `transition-transform`

### 반응형 브레이크포인트
- **Mobile:** 기본 (< 768px)
- **Tablet:** `sm:` (≥ 768px)
- **Desktop:** `lg:` (≥ 1024px)

---

## 🔄 주요 플로우

### 1. **댓글 작성 플로우**
```
타임라인 → 하단 슬라이더 [💬 댓글 작성] 클릭
         → 댓글 입력 오버레이
         → 인용구 입력 (선택)
         → 내용 입력 (필수)
         → [등록]
         → 타임라인 실시간 업데이트
```

### 2. **새 책 시작 플로우**
```
그룹 페이지 → 드로어 [설정] 탭
           → [새 책 시작하기]
           → BookSearchModal
           → 책 검색 → 선택
           → 독서 기간 설정
           → 목차 입력
           → [확인]
           → 현재 책이 히스토리로 이동
           → 새 책이 메인으로
```

### 3. **리뷰 작성 플로우**
```
진행도 100% 도달 → 자동으로 ReviewModal 표시
                → 별점 선택
                → 리뷰 내용 (선택)
                → [저장]

또는

히스토리 책 클릭 → ReviewModal (수정 모드)
```

---

## 📝 개발 가이드

### 컴포넌트 명명 규칙
- **Modal:** `*Modal.vue` (모달 팝업)
- **Card:** `*Card.vue` (정보 카드)
- **Chart:** `*Chart.vue` (차트/그래프)

### Props 전달 패턴
```vue
<!-- 모달 -->
<Modal :isOpen="open" @close="open = false" @submit="handleSubmit" />

<!-- 카드/차트 -->
<Card :data="stats" />
```

### 상태 관리
- **Pinia Store:** `stores/user.ts`, `stores/toast.ts`
- **Local State:** 각 컴포넌트 내 `ref`, `reactive`

---

## 🚀 앞으로 할 일

- [ ] 반응형 레이아웃 완성 (모바일 우선 → 데스크톱 최적화)
- [ ] 하단 슬라이더 UX 개선
- [ ] 다크모드 색상 최적화
- [ ] 애니메이션 polish
- [ ] 로딩 스켈레톤 추가

---

**작성일:** 2025-01-XX
**버전:** v1.0
**최종 수정:** UI 리뉴얼 중

---

> 💡 **Tip:** 이 문서는 UI 변경 시마다 업데이트해주세요!
> 새로운 화면이나 컴포넌트 추가 시 반드시 여기에 기록하면 소통이 훨씬 수월합니다.
