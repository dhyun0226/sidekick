# Sidekick - í”„ë¡œì íŠ¸ ì™„ì „ ë¶„ì„ ë¬¸ì„œ

> í•¨ê»˜ ì½ëŠ” ì¦ê±°ì›€, ì‚¬ì´ë“œí‚¥
> **ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸ ì†Œì…œ ë…ì„œ í”Œë«í¼**

---

## ğŸ“‘ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ê¸°ìˆ  ìŠ¤íƒ](#2-ê¸°ìˆ -ìŠ¤íƒ)
3. [ì•„í‚¤í…ì²˜ ì„¤ê³„](#3-ì•„í‚¤í…ì²˜-ì„¤ê³„)
4. [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](#4-ë°ì´í„°ë² ì´ìŠ¤-ìŠ¤í‚¤ë§ˆ)
5. [í™”ë©´ ì •ì˜ì„œ](#5-í™”ë©´-ì •ì˜ì„œ)
6. [ì£¼ìš” ê¸°ëŠ¥ ë° ì‚¬ìš©ì í”Œë¡œìš°](#6-ì£¼ìš”-ê¸°ëŠ¥-ë°-ì‚¬ìš©ì-í”Œë¡œìš°)
7. [ì»´í¬ë„ŒíŠ¸ ëª…ì„¸](#7-ì»´í¬ë„ŒíŠ¸-ëª…ì„¸)
8. [ìƒíƒœ ê´€ë¦¬ ë° ë°ì´í„° íë¦„](#8-ìƒíƒœ-ê´€ë¦¬-ë°-ë°ì´í„°-íë¦„)
9. [ë³´ì•ˆ ë° ê¶Œí•œ ê´€ë¦¬](#9-ë³´ì•ˆ-ë°-ê¶Œí•œ-ê´€ë¦¬)
10. [ê°œë°œ ê°€ì´ë“œ](#10-ê°œë°œ-ê°€ì´ë“œ)
11. [ë°°í¬ ë° ìš´ì˜](#11-ë°°í¬-ë°-ìš´ì˜)

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ ì†Œê°œ

**Sidekick**ì€ ê·¸ë£¹ ë‹¨ìœ„ë¡œ ì±…ì„ í•¨ê»˜ ì½ê³ , ë…ì„œ ê³¼ì •ì—ì„œ ìƒê°ì„ ë‚˜ëˆ„ë©°, ì‹¤ì‹œê°„ìœ¼ë¡œ ì†Œí†µí•  ìˆ˜ ìˆëŠ” **í˜‘ì—… ë…ì„œ í”Œë«í¼**ì…ë‹ˆë‹¤. ëª¨ë°”ì¼ í™˜ê²½ì— ìµœì í™”ë˜ì–´ ìˆìœ¼ë©°, PWA ê¸°ëŠ¥ì„ í†µí•´ ë„¤ì´í‹°ë¸Œ ì•±ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 1.2 í•µì‹¬ ê°€ì¹˜

- **í•¨ê»˜ ì½ëŠ” ì¦ê±°ì›€**: í˜¼ìê°€ ì•„ë‹Œ ê·¸ë£¹ê³¼ í•¨ê»˜ ë…ì„œ
- **ìœ„ì¹˜ ê¸°ë°˜ ëŒ“ê¸€**: íŠ¹ì • í˜ì´ì§€/ì±•í„°ì— ìƒê°ì„ ê¸°ë¡
- **ìŠ¤í¬ì¼ëŸ¬ ë°©ì§€**: ì½ì§€ ì•Šì€ ë¶€ë¶„ì˜ ëŒ“ê¸€ì€ ìë™ ë¸”ëŸ¬ ì²˜ë¦¬
- **ì‹¤ì‹œê°„ ë™ê¸°í™”**: Supabase Realtimeìœ¼ë¡œ ì¦‰ê°ì ì¸ ëŒ“ê¸€ ì—…ë°ì´íŠ¸
- **ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸**: 480px ì´í•˜ ëª¨ë°”ì¼ í™”ë©´ì— ìµœì í™”

### 1.3 ì£¼ìš” íŠ¹ì§•

| íŠ¹ì§• | ì„¤ëª… |
|------|------|
| **PWA ì§€ì›** | í™ˆ í™”ë©´ì— ì„¤ì¹˜ ê°€ëŠ¥, ì˜¤í”„ë¼ì¸ ì§€ì› |
| **OAuth í†µí•©** | êµ¬ê¸€, ì¹´ì¹´ì˜¤ ì†Œì…œ ë¡œê·¸ì¸ |
| **ì‹¤ì‹œê°„ í˜‘ì—…** | Supabase Realtime êµ¬ë… |
| **ë‹¤í¬ í…Œë§ˆ** | Zinc + Lime ìƒ‰ìƒ ì¡°í•©ì˜ ì„¸ë ¨ëœ UI |
| **ë°˜ì‘í˜• ìŠ¬ë¼ì´ë”** | ë“œë˜ê·¸ë¡œ ë…ì„œ ì§„í–‰ë¥  ì¡°ì ˆ |
| **ì±•í„° ë„¤ë¹„ê²Œì´ì…˜** | TOC ê¸°ë°˜ ë¹ ë¥¸ ì´ë™ |

### 1.4 íƒ€ê²Ÿ ì‚¬ìš©ì

- ë…ì„œ ëª¨ì„ì„ ìš´ì˜í•˜ê±°ë‚˜ ì°¸ì—¬í•˜ëŠ” ì‚¬ëŒë“¤
- ì±… ë‚´ìš©ì„ ê¹Šì´ í† ë¡ í•˜ê³  ì‹¶ì€ ë…ìë“¤
- í•¨ê»˜ ì½ìœ¼ë©° ë™ê¸°ë¶€ì—¬ë¥¼ ì–»ê³  ì‹¶ì€ ì‚¬ëŒë“¤
- ëª¨ë°”ì¼ í™˜ê²½ì—ì„œ í¸ë¦¬í•˜ê²Œ ë…ì„œ ê¸°ë¡ì„ ë‚¨ê¸°ê³  ì‹¶ì€ ì‚¬ìš©ì

---

## 2. ê¸°ìˆ  ìŠ¤íƒ

### 2.1 í”„ë¡ íŠ¸ì—”ë“œ

#### í”„ë ˆì„ì›Œí¬ & ë¼ì´ë¸ŒëŸ¬ë¦¬

| ê¸°ìˆ  | ë²„ì „ | ì—­í•  |
|------|------|------|
| **Nuxt 3** | 3.15.0 | Vue 3 ë©”íƒ€ í”„ë ˆì„ì›Œí¬, SSR/SSG ì§€ì› |
| **Vue 3** | ìµœì‹  | ë¦¬ì•¡í‹°ë¸Œ UI í”„ë ˆì„ì›Œí¬ (Composition API) |
| **TypeScript** | ìµœì‹  | íƒ€ì… ì•ˆì •ì„± |
| **Vite** | ë‚´ì¥ | ë¹ ë¥¸ ë¹Œë“œ ë„êµ¬ |

#### UI & ìŠ¤íƒ€ì¼ë§

| ê¸°ìˆ  | ë²„ì „ | ì—­í•  |
|------|------|------|
| **Tailwind CSS** | 6.14.0 | ìœ í‹¸ë¦¬í‹° í¼ìŠ¤íŠ¸ CSS í”„ë ˆì„ì›Œí¬ |
| **Lucide Vue Next** | ìµœì‹  | ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ (450+ ì•„ì´ì½˜) |
| **Google Fonts** | - | Inter (UI), Noto Serif KR (ë³¸ë¬¸) |

#### ìƒíƒœ ê´€ë¦¬ & ë°ì´í„°

| ê¸°ìˆ  | ë²„ì „ | ì—­í•  |
|------|------|------|
| **Pinia** | 2.2.8 | Vue ê³µì‹ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| **@nuxtjs/supabase** | 2.0.3 | Supabase ê³µì‹ Nuxt í†µí•© ëª¨ë“ˆ |

#### PWA

| ê¸°ìˆ  | ë²„ì „ | ì—­í•  |
|------|------|------|
| **@vite-pwa/nuxt** | 1.1.0 | PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸, ì„œë¹„ìŠ¤ ì›Œì»¤ ìë™ ìƒì„± |

### 2.2 ë°±ì—”ë“œ & ì¸í”„ë¼

| ê¸°ìˆ  | ì—­í•  |
|------|------|
| **Supabase** | BaaS (Backend as a Service) |
| **PostgreSQL** | ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ |
| **Row Level Security (RLS)** | í…Œì´ë¸” ë‹¨ìœ„ ë³´ì•ˆ ì •ì±… |
| **Supabase Auth** | ì¸ì¦ (ì´ë©”ì¼, OAuth) |
| **Supabase Realtime** | WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ êµ¬ë… |

### 2.3 ê°œë°œ ë„êµ¬

| ë„êµ¬ | ìš©ë„ |
|------|------|
| **npm** | íŒ¨í‚¤ì§€ ê´€ë¦¬ |
| **ESLint** | ì½”ë“œ ë¦°íŒ… (ì„¤ì • ê°€ëŠ¥) |
| **Prettier** | ì½”ë“œ í¬ë§·íŒ… (ì„¤ì • ê°€ëŠ¥) |

---

## 3. ì•„í‚¤í…ì²˜ ì„¤ê³„

### 3.1 ì „ì²´ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Client (Browser)                       â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              Nuxt 3 Application (Vue 3)                  â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚
â”‚  â”‚  â”‚   Pages     â”‚  â”‚ Components  â”‚  â”‚   Stores    â”‚     â”‚ â”‚
â”‚  â”‚  â”‚ (Auto Route)â”‚  â”‚   (Vue 3)   â”‚  â”‚   (Pinia)   â”‚     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚
â”‚  â”‚                                                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚        Supabase Client (@nuxtjs/supabase)          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   - Auth (Email, Google, Kakao OAuth)              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   - Database (Query via SDK)                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚   - Realtime (WebSocket Subscriptions)             â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ HTTPS / WebSocket
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Supabase Backend                         â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Auth      â”‚  â”‚  PostgreSQL â”‚  â”‚  Realtime   â”‚          â”‚
â”‚  â”‚   Service   â”‚  â”‚   Database  â”‚  â”‚   Server    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                â”‚
â”‚  - Row Level Security (RLS) Policies                          â”‚
â”‚  - Automatic Webhook Triggers (Optional)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 í´ë” êµ¬ì¡°

```
sidekick/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ app.vue                      # Root ë ˆì´ì•„ì›ƒ ë˜í¼
â”œâ”€â”€ pages/                           # ë¼ìš°íŠ¸ë³„ í˜ì´ì§€ (íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…)
â”‚   â”œâ”€â”€ index.vue                    # í™ˆ: ê·¸ë£¹ ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ login.vue                    # ë¡œê·¸ì¸/íšŒì›ê°€ì…
â”‚   â”œâ”€â”€ profile.vue                  # í”„ë¡œí•„ ìˆ˜ì • ë° í†µê³„
â”‚   â”œâ”€â”€ group/
â”‚   â”‚   â””â”€â”€ [id].vue                 # ê·¸ë£¹ ìƒì„¸: ë…ì„œ ì¸í„°í˜ì´ìŠ¤
â”‚   â””â”€â”€ join/
â”‚       â””â”€â”€ [code].vue               # ì´ˆëŒ€ ì½”ë“œë¡œ ê·¸ë£¹ ì°¸ì—¬
â”œâ”€â”€ components/                      # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ Vue ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ BookSearchModal.vue          # ì±… ê²€ìƒ‰ ë° ì¶”ê°€ ëª¨ë‹¬
â”‚   â”œâ”€â”€ Timeline.vue                 # ëŒ“ê¸€ íƒ€ì„ë¼ì¸ (ìŠ¤í¬ì¼ëŸ¬ ë³´í˜¸)
â”‚   â”œâ”€â”€ SmartSlider.vue              # ë…ì„œ ì§„í–‰ë¥  ìŠ¬ë¼ì´ë”
â”‚   â”œâ”€â”€ NotificationCenter.vue       # ì•Œë¦¼ ì„¼í„° ë“œë¡­ë‹¤ìš´
â”‚   â””â”€â”€ ReviewModal.vue              # ë³„ì  ë¦¬ë·° ì‘ì„± ëª¨ë‹¬
â”œâ”€â”€ stores/                          # Pinia ìƒíƒœ ê´€ë¦¬
â”‚   â””â”€â”€ user.ts                      # ì‚¬ìš©ì ì¸ì¦ ë° í”„ë¡œí•„ ìŠ¤í† ì–´
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/                  # ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ SQL
â”‚       â”œâ”€â”€ 20251205000000_initial_schema.sql
â”‚       â”œâ”€â”€ 20251205000001_advanced_features.sql
â”‚       â”œâ”€â”€ 20251205000002_add_invite_code.sql
â”‚       â””â”€â”€ 20251205000003_add_finished_at.sql
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ css/
â”‚       â””â”€â”€ main.css                 # ì „ì—­ CSS (Tailwind í¬í•¨)
â”œâ”€â”€ public/                          # ì •ì  íŒŒì¼ (PWA ì•„ì´ì½˜ ë“±)
â”œâ”€â”€ .nuxt/                           # Nuxt ë¹Œë“œ ê²°ê³¼ (ìë™ ìƒì„±)
â”œâ”€â”€ nuxt.config.ts                   # Nuxt ì„¤ì •
â”œâ”€â”€ tailwind.config.ts               # Tailwind ì»¤ìŠ¤í…€ í…Œë§ˆ
â”œâ”€â”€ package.json                     # ì˜ì¡´ì„± ë° ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ .env                             # í™˜ê²½ ë³€ìˆ˜ (Supabase í‚¤)
â””â”€â”€ README.md                        # í”„ë¡œì íŠ¸ ì„¤ëª…
```

### 3.3 ë°ì´í„° íë¦„

#### 3.3.1 ì¸ì¦ íë¦„

```
[ì‚¬ìš©ì]
   â†“
[ë¡œê·¸ì¸ í˜ì´ì§€ (pages/login.vue)]
   â†“ ì´ë©”ì¼ ë˜ëŠ” OAuth ì„ íƒ
[Pinia Store (stores/user.ts)]
   â†“ signIn() / signInWithOAuth()
[Supabase Auth Service]
   â†“ JWT í† í° ë°˜í™˜
[ë¡œì»¬ ì„¸ì…˜ ì €ì¥]
   â†“
[ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸ â†’ ëŒ€ì‹œë³´ë“œ (pages/index.vue)]
```

#### 3.3.2 ëŒ“ê¸€ ì‘ì„± ë° ì‹¤ì‹œê°„ ë™ê¸°í™”

```
[ì‚¬ìš©ìê°€ ëŒ“ê¸€ ì‘ì„±]
   â†“
[SmartSliderì—ì„œ ìœ„ì¹˜ ì„ íƒ â†’ Write ë²„íŠ¼]
   â†“
[CommentInput ì˜¤ë²„ë ˆì´ í‘œì‹œ]
   â†“
[Submit â†’ Supabase.from('comments').insert()]
   â†“
[PostgreSQLì— ëŒ“ê¸€ INSERT]
   â†“
[Supabase Realtimeì´ ê°ì§€]
   â†“
[WebSocketì„ í†µí•´ êµ¬ë… ì¤‘ì¸ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì— ì´ë²¤íŠ¸ ì „ì†¡]
   â†“
[pages/group/[id].vueì˜ Realtime Channelì´ ìˆ˜ì‹ ]
   â†“
[fetchComments() ì¬í˜¸ì¶œ â†’ ëŒ“ê¸€ ëª©ë¡ ê°±ì‹ ]
   â†“
[Timeline ì»´í¬ë„ŒíŠ¸ ìë™ ë¦¬ë Œë”ë§]
```

### 3.4 Nuxt ëª¨ë“ˆ êµ¬ì„±

`nuxt.config.ts` íŒŒì¼ì—ì„œ ë‹¤ìŒ ëª¨ë“ˆì„ ì‚¬ìš©:

```typescript
modules: [
  '@nuxtjs/tailwindcss',    // Tailwind CSS í†µí•©
  '@pinia/nuxt',            // Pinia ìƒíƒœ ê´€ë¦¬
  '@nuxtjs/supabase',       // Supabase í´ë¼ì´ì–¸íŠ¸
  '@vite-pwa/nuxt',         // PWA ì§€ì›
]
```

---

## 4. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### 4.1 ERD (Entity Relationship Diagram)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   auth.users     â”‚ (Supabase Auth ë‚´ì¥)
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  id (uuid) PK    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1
         â”‚
         â”‚ 1
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      users               â”‚ (Public Profile)
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  id (uuid) PK, FK        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”
â”‚  nickname                â”‚        â”‚ N
â”‚  avatar_url              â”‚        â”‚
â”‚  created_at              â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
         â”‚ 1                         â”‚
         â”‚                           â”‚
         â”‚ N                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   group_members          â”‚        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚        â”‚
â”‚  id (uuid) PK            â”‚        â”‚
â”‚  group_id (uuid) FK      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  user_id (uuid) FK       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  role (admin/member)     â”‚
â”‚  joined_at               â”‚
â”‚  UNIQUE(group_id, user_id)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ N
         â”‚
         â”‚ 1
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      groups              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  id (uuid) PK            â”‚
â”‚  name                    â”‚
â”‚  invite_code (unique)    â”‚
â”‚  created_at              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1
         â”‚
         â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    group_books           â”‚        â”‚      books       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   N    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  id (uuid) PK            â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”¤  isbn (text) PK  â”‚
â”‚  group_id (uuid) FK      â”‚   1    â”‚  title           â”‚
â”‚  isbn (text) FK          â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–º  author          â”‚
â”‚  toc_snapshot (jsonb)    â”‚        â”‚  cover_url       â”‚
â”‚  status (reading/done)   â”‚        â”‚  total_pages     â”‚
â”‚  created_at              â”‚        â”‚  official_toc    â”‚
â”‚  finished_at             â”‚        â”‚  draft_toc       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1                                    â”‚ 1
         â”‚                                      â”‚
         â”‚ N                                    â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚     comments             â”‚        â”‚     reviews      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚        â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  id (uuid) PK            â”‚        â”‚  id (uuid) PK    â”‚
â”‚  group_book_id (FK)      â”‚        â”‚  user_id (FK)    â”‚
â”‚  user_id (uuid) FK       â”‚        â”‚  book_id (FK)    â”‚
â”‚  content                 â”‚        â”‚  rating (1-5)    â”‚
â”‚  anchor_text             â”‚        â”‚  content         â”‚
â”‚  position_pct (0-100)    â”‚        â”‚  created_at      â”‚
â”‚  parent_id (FK, nullable)â”‚        â”‚  UNIQUE(user_id, â”‚
â”‚  created_at              â”‚        â”‚         book_id) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1
         â”‚
         â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     reactions            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  id (uuid) PK            â”‚
â”‚  user_id (uuid) FK       â”‚
â”‚  comment_id (uuid) FK    â”‚
â”‚  type (like/love/...)    â”‚
â”‚  created_at              â”‚
â”‚  UNIQUE(user_id,         â”‚
â”‚         comment_id, type)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    notifications         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  id (uuid) PK            â”‚
â”‚  user_id (uuid) FK       â”‚
â”‚  type (reply/like/notice)â”‚
â”‚  source_id (uuid)        â”‚
â”‚  is_read (boolean)       â”‚
â”‚  created_at              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 í…Œì´ë¸” ìƒì„¸ ëª…ì„¸

#### 4.2.1 users (ì‚¬ìš©ì í”„ë¡œí•„)

| ì»¬ëŸ¼ | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|------|------|------|------|
| id | uuid | PK, FK â†’ auth.users | Supabase Auth ì‚¬ìš©ì ID |
| nickname | text | - | ì‚¬ìš©ì ë‹‰ë„¤ì„ |
| avatar_url | text | - | í”„ë¡œí•„ ì´ë¯¸ì§€ URL |
| created_at | timestamp | NOT NULL, DEFAULT now() | ìƒì„± ì‹œê° |

**RLS ì •ì±…:**
- SELECT: ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥
- INSERT: ë³¸ì¸ë§Œ í”„ë¡œí•„ ìƒì„± ê°€ëŠ¥
- UPDATE: ë³¸ì¸ë§Œ ìˆ˜ì • ê°€ëŠ¥

#### 4.2.2 groups (ë…ì„œ ê·¸ë£¹)

| ì»¬ëŸ¼ | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|------|------|------|------|
| id | uuid | PK, DEFAULT uuid_generate_v4() | ê·¸ë£¹ ê³ ìœ  ID |
| name | text | NOT NULL | ê·¸ë£¹ ì´ë¦„ |
| invite_code | text | UNIQUE, DEFAULT substr(md5(random()::text), 0, 7) | ì´ˆëŒ€ ì½”ë“œ (6ìë¦¬) |
| created_at | timestamp | NOT NULL, DEFAULT now() | ìƒì„± ì‹œê° |

**RLS ì •ì±…:**
- SELECT: ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥
- INSERT: ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ìƒì„± ê°€ëŠ¥
- UPDATE: ê·¸ë£¹ ë©¤ë²„ë§Œ ìˆ˜ì • ê°€ëŠ¥

#### 4.2.3 group_members (ê·¸ë£¹ ë©¤ë²„ì‹­)

| ì»¬ëŸ¼ | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|------|------|------|------|
| id | uuid | PK | ë©¤ë²„ì‹­ ê³ ìœ  ID |
| group_id | uuid | FK â†’ groups, ON DELETE CASCADE | ê·¸ë£¹ ID |
| user_id | uuid | FK â†’ users, ON DELETE CASCADE | ì‚¬ìš©ì ID |
| role | text | CHECK (role IN ('admin', 'member')), DEFAULT 'member' | ì—­í•  |
| joined_at | timestamp | NOT NULL, DEFAULT now() | ê°€ì… ì‹œê° |
| - | - | UNIQUE(group_id, user_id) | ì¤‘ë³µ ê°€ì… ë°©ì§€ |

**RLS ì •ì±…:**
- SELECT: ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥
- INSERT: ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ê°€ì… ê°€ëŠ¥
- DELETE: ë³¸ì¸ë§Œ íƒˆí‡´ ê°€ëŠ¥

#### 4.2.4 books (ì±… ì¹´íƒˆë¡œê·¸)

| ì»¬ëŸ¼ | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|------|------|------|------|
| isbn | text | PK | ISBN (ê³ ìœ  ì‹ë³„ì) |
| title | text | NOT NULL | ì±… ì œëª© |
| author | text | - | ì €ì |
| cover_url | text | - | í‘œì§€ ì´ë¯¸ì§€ URL |
| total_pages | int | NOT NULL | ì´ í˜ì´ì§€ ìˆ˜ |
| official_toc | jsonb | - | ê³µì‹ ëª©ì°¨ (ìŠ¹ì¸ëœ TOC) |
| draft_toc | jsonb | - | ì‚¬ìš©ì ì œì¶œ ëª©ì°¨ (ì´ˆì•ˆ) |
| created_at | timestamp | NOT NULL, DEFAULT now() | ìƒì„± ì‹œê° |

**RLS ì •ì±…:**
- SELECT: ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥
- INSERT/UPDATE: ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ê°€ëŠ¥

**TOC JSON êµ¬ì¡° ì˜ˆì‹œ:**

```json
[
  {
    "title": "Chapter 1: The Beginning",
    "start": 0,
    "end": 25
  },
  {
    "title": "Chapter 2: The Journey",
    "start": 25,
    "end": 60
  },
  {
    "title": "Epilogue",
    "start": 60,
    "end": 100
  }
]
```

#### 4.2.5 group_books (ë…ì„œ ì„¸ì…˜)

| ì»¬ëŸ¼ | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|------|------|------|------|
| id | uuid | PK | ë…ì„œ ì„¸ì…˜ ê³ ìœ  ID |
| group_id | uuid | FK â†’ groups, ON DELETE CASCADE | ê·¸ë£¹ ID |
| isbn | text | FK â†’ books | ì±… ISBN |
| toc_snapshot | jsonb | - | ì‹œì‘ ì‹œì ì˜ TOC ìŠ¤ëƒ…ìƒ· |
| status | text | CHECK (status IN ('reading', 'done')), DEFAULT 'reading' | ìƒíƒœ |
| created_at | timestamp | NOT NULL, DEFAULT now() | ì‹œì‘ ì‹œê° |
| finished_at | timestamp | - | ì™„ë£Œ ì‹œê° |

**RLS ì •ì±…:**
- SELECT: ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥
- INSERT: ê·¸ë£¹ ë©¤ë²„ë§Œ ì¶”ê°€ ê°€ëŠ¥

**ì°¸ê³ :** `toc_snapshot`ì€ ë…ì„œ ì‹œì‘ ì‹œ `books.official_toc` ë˜ëŠ” `books.draft_toc`ì˜ ë³µì‚¬ë³¸. ì´í›„ ì›ë³¸ì´ ë³€ê²½ë˜ì–´ë„ ì„¸ì…˜ì˜ TOCëŠ” ìœ ì§€ë¨.

#### 4.2.6 comments (ëŒ“ê¸€)

| ì»¬ëŸ¼ | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|------|------|------|------|
| id | uuid | PK | ëŒ“ê¸€ ê³ ìœ  ID |
| group_book_id | uuid | FK â†’ group_books, ON DELETE CASCADE | ë…ì„œ ì„¸ì…˜ ID |
| user_id | uuid | FK â†’ users | ì‘ì„±ì ID |
| content | text | NOT NULL | ëŒ“ê¸€ ë‚´ìš© |
| anchor_text | text | - | ì¸ìš© í…ìŠ¤íŠ¸ (ì„ íƒí•œ ë¬¸êµ¬) |
| position_pct | float | NOT NULL, CHECK (0 â‰¤ position_pct â‰¤ 100) | ë…ì„œ ìœ„ì¹˜ (%) |
| parent_id | uuid | FK â†’ comments, ON DELETE CASCADE, NULLABLE | ìƒìœ„ ëŒ“ê¸€ ID (ë‹µê¸€ìš©) |
| created_at | timestamp | NOT NULL, DEFAULT now() | ì‘ì„± ì‹œê° |

**RLS ì •ì±…:**
- SELECT: ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥
- INSERT: ê·¸ë£¹ ë©¤ë²„ë§Œ ëŒ“ê¸€ ì‘ì„± ê°€ëŠ¥

#### 4.2.7 reactions (ë°˜ì‘/ì¢‹ì•„ìš”)

| ì»¬ëŸ¼ | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|------|------|------|------|
| id | uuid | PK | ë°˜ì‘ ê³ ìœ  ID |
| user_id | uuid | FK â†’ users, ON DELETE CASCADE | ì‚¬ìš©ì ID |
| comment_id | uuid | FK â†’ comments, ON DELETE CASCADE | ëŒ“ê¸€ ID |
| type | text | NOT NULL | ë°˜ì‘ íƒ€ì… (like, love, etc.) |
| created_at | timestamp | NOT NULL, DEFAULT now() | ìƒì„± ì‹œê° |
| - | - | UNIQUE(user_id, comment_id, type) | ì¤‘ë³µ ë°˜ì‘ ë°©ì§€ |

**RLS ì •ì±…:**
- SELECT: ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥
- INSERT: ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ê°€ëŠ¥
- DELETE: ë³¸ì¸ë§Œ ì‚­ì œ ê°€ëŠ¥

#### 4.2.8 reviews (ë³„ì  ë¦¬ë·°)

| ì»¬ëŸ¼ | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|------|------|------|------|
| id | uuid | PK | ë¦¬ë·° ê³ ìœ  ID |
| user_id | uuid | FK â†’ users, ON DELETE CASCADE | ì‚¬ìš©ì ID |
| book_id | text | FK â†’ books(isbn), ON DELETE CASCADE | ì±… ISBN |
| rating | int | NOT NULL, CHECK (1 â‰¤ rating â‰¤ 5) | ë³„ì  (1-5) |
| content | text | - | ë¦¬ë·° ë‚´ìš© (ì„ íƒ) |
| created_at | timestamp | NOT NULL, DEFAULT now() | ì‘ì„± ì‹œê° |
| - | - | UNIQUE(user_id, book_id) | ì‚¬ìš©ìë‹¹ ì±…ë‹¹ 1ê°œ ë¦¬ë·° |

**RLS ì •ì±…:**
- SELECT: ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥
- INSERT: ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ê°€ëŠ¥
- UPDATE: ë³¸ì¸ë§Œ ìˆ˜ì • ê°€ëŠ¥

#### 4.2.9 notifications (ì•Œë¦¼)

| ì»¬ëŸ¼ | íƒ€ì… | ì œì•½ | ì„¤ëª… |
|------|------|------|------|
| id | uuid | PK | ì•Œë¦¼ ê³ ìœ  ID |
| user_id | uuid | FK â†’ users, ON DELETE CASCADE | ìˆ˜ì‹ ì ID |
| type | text | NOT NULL | ì•Œë¦¼ íƒ€ì… (reply, like, notice) |
| source_id | uuid | NOT NULL | ì†ŒìŠ¤ ID (ëŒ“ê¸€/ë°˜ì‘ ë“±) |
| is_read | boolean | NOT NULL, DEFAULT false | ì½ìŒ ì—¬ë¶€ |
| created_at | timestamp | NOT NULL, DEFAULT now() | ìƒì„± ì‹œê° |

**RLS ì •ì±…:**
- SELECT: ë³¸ì¸ ì•Œë¦¼ë§Œ ì¡°íšŒ ê°€ëŠ¥
- INSERT: ì‹œìŠ¤í…œ/ì‚¬ìš©ì ëª¨ë‘ ê°€ëŠ¥ (MVPì—ì„œ ê°„ì†Œí™”)
- UPDATE: ë³¸ì¸ë§Œ ìˆ˜ì • ê°€ëŠ¥ (ì½ìŒ ì²˜ë¦¬)

### 4.3 ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬

| íŒŒì¼ | ë‚ ì§œ | ë‚´ìš© |
|------|------|------|
| `20251205000000_initial_schema.sql` | 2024-12-05 | ì´ˆê¸° ìŠ¤í‚¤ë§ˆ: users, groups, group_members, books, group_books, comments |
| `20251205000001_advanced_features.sql` | 2024-12-05 | ê³ ê¸‰ ê¸°ëŠ¥: parent_id (ë‹µê¸€), reactions, reviews, notifications |
| `20251205000002_add_invite_code.sql` | 2024-12-05 | groups í…Œì´ë¸”ì— invite_code ì¶”ê°€ |
| `20251205000003_add_finished_at.sql` | 2024-12-05 | group_books í…Œì´ë¸”ì— finished_at ì¶”ê°€ |

---

## 5. í™”ë©´ ì •ì˜ì„œ

### 5.1 ë¡œê·¸ì¸ í˜ì´ì§€ (`/login`)

**íŒŒì¼ ê²½ë¡œ:** `pages/login.vue`

#### 5.1.1 í™”ë©´ ê°œìš”

- **ëª©ì :** ì‚¬ìš©ì ì¸ì¦ (íšŒì›ê°€ì…/ë¡œê·¸ì¸)
- **ì ‘ê·¼ ê¶Œí•œ:** ë¹„ë¡œê·¸ì¸ ì‚¬ìš©ìë§Œ
- **ë ˆì´ì•„ì›ƒ:** ì¤‘ì•™ ì •ë ¬, ë°°ê²½ ê·¸ë¼ë””ì–¸íŠ¸ íš¨ê³¼

#### 5.1.2 UI êµ¬ì„± ìš”ì†Œ

| ìš”ì†Œ | ì„¤ëª… | ìŠ¤íƒ€ì¼ |
|------|------|--------|
| **ë¡œê³  ì˜ì—­** | ğŸ“š ì•„ì´ì½˜ + "Sidekick" íƒ€ì´í‹€ | ê·¸ë¼ë””ì–¸íŠ¸ ë°°ê²½, Lime-400 â†’ Lime-600 |
| **ì„œë¸Œíƒ€ì´í‹€** | "í•¨ê»˜ ì½ëŠ” ì¦ê±°ì›€, ì‚¬ì´ë“œí‚¥" | text-zinc-400 |
| **ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë²„íŠ¼** | ì¹´ì¹´ì˜¤ ë¸Œëœë“œ ìƒ‰ìƒ, MessageCircle ì•„ì´ì½˜ | bg-[#FEE500], í˜¸ë²„ ì‹œ scale-[1.02] |
| **êµ¬ê¸€ ë¡œê·¸ì¸ ë²„íŠ¼** | í°ìƒ‰ ë°°ê²½, êµ¬ê¸€ ë¡œê³  SVG | bg-white, text-gray-900 |
| **êµ¬ë¶„ì„ ** | "ë˜ëŠ” ì´ë©”ì¼ë¡œ ê³„ì†í•˜ê¸°" | border-zinc-800 |
| **ì´ë©”ì¼ ì…ë ¥** | ì´ë©”ì¼ ì£¼ì†Œ ì…ë ¥ í•„ë“œ | bg-zinc-800/50, focus:ring-lime-400 |
| **ë¹„ë°€ë²ˆí˜¸ ì…ë ¥** | ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ | ë™ì¼ ìŠ¤íƒ€ì¼ |
| **ë‹‰ë„¤ì„ ì…ë ¥** | íšŒì›ê°€ì… ëª¨ë“œì—ì„œë§Œ í‘œì‹œ (ì• ë‹ˆë©”ì´ì…˜) | animate-fade-in |
| **ì œì¶œ ë²„íŠ¼** | "ì´ë©”ì¼ë¡œ ë¡œê·¸ì¸" ë˜ëŠ” "íšŒì›ê°€ì…" | bg-zinc-800, ë¡œë”© ì‹œ "ì²˜ë¦¬ ì¤‘..." |
| **ì „í™˜ ë§í¬** | "ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? íšŒì›ê°€ì…" | text-lime-400 |

#### 5.1.3 ìƒíƒœ ê´€ë¦¬

| ìƒíƒœ | íƒ€ì… | ì´ˆê¸°ê°’ | ì„¤ëª… |
|------|------|--------|------|
| `isSignUp` | boolean | false | íšŒì›ê°€ì… ëª¨ë“œ ì—¬ë¶€ |
| `email` | string | '' | ì´ë©”ì¼ ì£¼ì†Œ |
| `password` | string | '' | ë¹„ë°€ë²ˆí˜¸ |
| `nickname` | string | '' | ë‹‰ë„¤ì„ (íšŒì›ê°€ì… ì‹œ) |
| `loading` | boolean | false | ì œì¶œ ì¤‘ ìƒíƒœ |

#### 5.1.4 ì£¼ìš” ê¸°ëŠ¥

| ê¸°ëŠ¥ | íŠ¸ë¦¬ê±° | ë™ì‘ |
|------|--------|------|
| **ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸** | ë²„íŠ¼ í´ë¦­ | `userStore.signInWithOAuth('kakao')` í˜¸ì¶œ |
| **êµ¬ê¸€ ë¡œê·¸ì¸** | ë²„íŠ¼ í´ë¦­ | `userStore.signInWithOAuth('google')` í˜¸ì¶œ |
| **ì´ë©”ì¼ ë¡œê·¸ì¸** | í¼ ì œì¶œ (`isSignUp=false`) | `userStore.signIn(email, password)` í˜¸ì¶œ |
| **íšŒì›ê°€ì…** | í¼ ì œì¶œ (`isSignUp=true`) | `userStore.signUp(email, password, nickname)` í˜¸ì¶œ |
| **ëª¨ë“œ ì „í™˜** | í•˜ë‹¨ ë§í¬ í´ë¦­ | `isSignUp` í† ê¸€ |

#### 5.1.5 ë°°ê²½ íš¨ê³¼

- ì¢Œìƒë‹¨: Lime-400/10 ë¸”ëŸ¬ ì›í˜• ê·¸ë¼ë””ì–¸íŠ¸
- ìš°í•˜ë‹¨: Blue-500/10 ë¸”ëŸ¬ ì›í˜• ê·¸ë¼ë””ì–¸íŠ¸

#### 5.1.6 ì—ëŸ¬ ì²˜ë¦¬

- ì¸ì¦ ì‹¤íŒ¨ ì‹œ: `alert(e.message)` í‘œì‹œ
- íšŒì›ê°€ì… ì„±ê³µ ì‹œ: "íšŒì›ê°€ì… í™•ì¸ ë©”ì¼ì„ ë³´ëƒˆìŠµë‹ˆë‹¤. ì´ë©”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”!" ì•Œë¦¼

#### 5.1.7 ì„±ê³µ í›„ ë™ì‘

- ë¡œê·¸ì¸ ì„±ê³µ ì‹œ: ìë™ìœ¼ë¡œ `/` (í™ˆ ëŒ€ì‹œë³´ë“œ)ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

---

### 5.2 í™ˆ ëŒ€ì‹œë³´ë“œ (`/`)

**íŒŒì¼ ê²½ë¡œ:** `pages/index.vue`

#### 5.2.1 í™”ë©´ ê°œìš”

- **ëª©ì :** ì‚¬ìš©ìê°€ ì°¸ì—¬ ì¤‘ì¸ ê·¸ë£¹ ëª©ë¡ í‘œì‹œ
- **ì ‘ê·¼ ê¶Œí•œ:** ë¡œê·¸ì¸ ì‚¬ìš©ìë§Œ
- **ë ˆì´ì•„ì›ƒ:** í—¤ë” + ê·¸ë£¹ ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ + FAB

#### 5.2.2 í—¤ë” ì˜ì—­

| ìš”ì†Œ | ì„¤ëª… | ë™ì‘ |
|------|------|------|
| **í”„ë¡œí•„ ì•„ë°”íƒ€** | ì›í˜• ì´ë¯¸ì§€ (40px) | í´ë¦­ ì‹œ `/profile`ë¡œ ì´ë™ |
| **íƒ€ì´í‹€** | "My Groups" | - |
| **ì„œë¸Œíƒ€ì´í‹€** | "ì˜¤ëŠ˜ë„ í•¨ê»˜ ì½ì–´ë³¼ê¹Œìš”?" | text-zinc-400 |
| **ì•Œë¦¼ ì„¼í„°** | NotificationCenter ì»´í¬ë„ŒíŠ¸ | ë“œë¡­ë‹¤ìš´ í‘œì‹œ |

#### 5.2.3 ê·¸ë£¹ ì¹´ë“œ

ê° ê·¸ë£¹ì€ ë…ë¦½ì ì¸ ì¹´ë“œ í˜•íƒœë¡œ í‘œì‹œ:

| ìš”ì†Œ | ì„¤ëª… | ìŠ¤íƒ€ì¼ |
|------|------|--------|
| **ê·¸ë£¹ ì´ë¦„** | ìƒë‹¨ ì¢Œì¸¡ | text-lg, font-bold |
| **ë©¤ë²„ ìˆ˜** | ìƒë‹¨ ìš°ì¸¡ | "ë©¤ë²„ Nëª…" ë°°ì§€ (bg-zinc-800) |
| **í˜„ì¬ ì½ëŠ” ì±…** | í‘œì§€ + ì œëª© + ì €ì | flex ë ˆì´ì•„ì›ƒ, ì´ë¯¸ì§€ 16x24 |
| **"Currently Reading"** | ë¼ë²¨ | text-lime-400, text-xs |
| **ë…ì„œ ê¸°ê°„** | "D+N" | text-zinc-500 |
| **ë¹ˆ ìƒíƒœ** | ì½ëŠ” ì±…ì´ ì—†ì„ ë•Œ | "ì§€ê¸ˆì€ íœ´ì‹ ì¤‘ì…ë‹ˆë‹¤ ğŸ’¤" (dashed border) |

**ì¹´ë“œ ì¸í„°ë™ì…˜:**
- í´ë¦­ ì‹œ: `/group/{id}`ë¡œ ì´ë™
- í˜¸ë²„ íš¨ê³¼: `active:scale-[0.98]`

#### 5.2.4 FAB (Floating Action Button)

| ìš”ì†Œ | ì„¤ëª… |
|------|------|
| **ìœ„ì¹˜** | ìš°í•˜ë‹¨ ê³ ì • (bottom-6, right-6) |
| **ì•„ì´ì½˜** | Plus (+) |
| **ìŠ¤íƒ€ì¼** | bg-lime-400, ì›í˜• (14x14), shadow-lg |
| **ë™ì‘** | ìƒˆ ê·¸ë£¹ ìƒì„± (MVPì—ì„œ ë¯¸êµ¬í˜„) |

#### 5.2.5 ë°ì´í„° ë¡œë”© ìˆœì„œ

1. `userStore.fetchProfile()` - ì‚¬ìš©ì í”„ë¡œí•„ ë¡œë“œ
2. Supabaseì—ì„œ ì‚¬ìš©ìê°€ ì†í•œ ê·¸ë£¹ ì¡°íšŒ:
   - `group_members` í…Œì´ë¸”ì—ì„œ `user_id`ë¡œ í•„í„°ë§
   - ê° ê·¸ë£¹ì˜ `groups` ì •ë³´ ì¡°ì¸
3. ê° ê·¸ë£¹ë³„ë¡œ ë³‘ë ¬ ì²˜ë¦¬:
   - í˜„ì¬ ì½ëŠ” ì±… ì¡°íšŒ (`group_books` + `books` ì¡°ì¸, status='reading')
   - ë©¤ë²„ ìˆ˜ ì¹´ìš´íŠ¸ (`group_members` count)
4. ëª¨ë“  ë°ì´í„° ë³‘í•©í•˜ì—¬ `groups` refì— ì €ì¥

#### 5.2.6 ì£¼ìš” í•¨ìˆ˜

```typescript
// ê·¸ë£¹ ë° ì±… ì •ë³´ ì¡°íšŒ
const fetchGroups = async () => { ... }

// ë…ì„œ ì‹œì‘ í›„ ê²½ê³¼ ì¼ìˆ˜ ê³„ì‚°
const getDaysSince = (dateStr: string) => {
  const start = new Date(dateStr).getTime()
  const now = new Date().getTime()
  return Math.floor((now - start) / (1000 * 60 * 60 * 24))
}
```

---

### 5.3 ê·¸ë£¹ ìƒì„¸ í˜ì´ì§€ (`/group/[id]`)

**íŒŒì¼ ê²½ë¡œ:** `pages/group/[id].vue`

#### 5.3.1 í™”ë©´ ê°œìš”

- **ëª©ì :** ê·¸ë£¹ì˜ ë…ì„œ ì§„í–‰ ìƒí™©, ëŒ“ê¸€, ë©¤ë²„ ê´€ë¦¬
- **ì ‘ê·¼ ê¶Œí•œ:** ë¡œê·¸ì¸ ì‚¬ìš©ìë§Œ (ê·¸ë£¹ ë©¤ë²„ ê¶Œì¥)
- **ë ˆì´ì•„ì›ƒ:** ê³ ì • í—¤ë” + ìŠ¤í¬ë¡¤ íƒ€ì„ë¼ì¸ + í•˜ë‹¨ ìŠ¬ë¼ì´ë”

#### 5.3.2 í—¤ë” (ê³ ì •)

| ìš”ì†Œ | ìœ„ì¹˜ | ë™ì‘ |
|------|------|------|
| **í–„ë²„ê±° ë©”ë‰´** | ì¢Œì¸¡ | Side Drawer ì—´ê¸° |
| **ê·¸ë£¹ ì´ë¦„** | ì¤‘ì•™ ìƒë‹¨ | - |
| **ì±… ì œëª©** | ì¤‘ì•™ í•˜ë‹¨ (ì‘ì€ ê¸€ì”¨) | - |
| **ê²€ìƒ‰ ë²„íŠ¼** | ìš°ì¸¡ | ë¯¸êµ¬í˜„ (MVP) |

**ìŠ¤íƒ€ì¼:** ê²€ì€ìƒ‰ ë°˜íˆ¬ëª… ë°°ê²½ (bg-black/80, backdrop-blur-md)

#### 5.3.3 íƒ€ì„ë¼ì¸ ì˜ì—­

- **ì»´í¬ë„ŒíŠ¸:** `<Timeline>`
- **ë‚´ìš©:** ëŒ“ê¸€ ëª©ë¡ (position_pct ìˆœì„œë¡œ ì •ë ¬)
- **ìŠ¤í¬ë¡¤:** ì„¸ë¡œ ìŠ¤í¬ë¡¤ ê°€ëŠ¥ (pt-16, pb-32ë¡œ í—¤ë”/í‘¸í„°ì™€ ê²¹ì¹˜ì§€ ì•ŠìŒ)

#### 5.3.4 Smart Slider (í•˜ë‹¨ ê³ ì •)

- **ì»´í¬ë„ŒíŠ¸:** `<SmartSlider>`
- **Props:**
  - `v-model="viewProgress"`: í˜„ì¬ ë·° ìœ„ì¹˜ (0-100)
  - `toc`: ì±•í„° ëª©ì°¨ ë°°ì—´
- **ì´ë²¤íŠ¸:**
  - `@change`: ìŠ¬ë¼ì´ë” ê°’ ë³€ê²½ ì‹œ `handleSliderChange()` í˜¸ì¶œ
  - `@write`: Write ë²„íŠ¼ í´ë¦­ ì‹œ ëŒ“ê¸€ ì…ë ¥ ì˜¤ë²„ë ˆì´ í‘œì‹œ

#### 5.3.5 ëŒ“ê¸€ ì…ë ¥ ì˜¤ë²„ë ˆì´

| ìš”ì†Œ | ì„¤ëª… |
|------|------|
| **ë°°ê²½ ë¸”ëŸ¬** | ì „ì²´ í™”ë©´ ë®ëŠ” ë°˜íˆ¬ëª… ê²€ì€ìƒ‰ |
| **ì…ë ¥ íŒ¨ë„** | í•˜ë‹¨ì—ì„œ ìŠ¬ë¼ì´ë“œì—… ì• ë‹ˆë©”ì´ì…˜ |
| **ìœ„ì¹˜ í‘œì‹œ** | "N% ìœ„ì¹˜ì— ëŒ“ê¸€ ë‚¨ê¸°ê¸°" |
| **í…ìŠ¤íŠ¸ ì˜ì—­** | 3ì¤„ ë†’ì´, ìµœëŒ€ í™•ì¥ ì—†ìŒ |
| **ë“±ë¡ ë²„íŠ¼** | Lime-400, Send ì•„ì´ì½˜ |
| **ë‹«ê¸° ë²„íŠ¼** | X ì•„ì´ì½˜ |

**ì œì¶œ ë™ì‘:**
```typescript
const submitComment = async () => {
  await client.from('comments').insert({
    group_book_id: currentBook.value.id,
    user_id: userStore.user.id,
    content: newCommentContent.value,
    position_pct: viewProgress.value,
    anchor_text: null
  })
  // ì„±ê³µ ì‹œ ì˜¤ë²„ë ˆì´ ë‹«ê¸° ë° ì…ë ¥ ì´ˆê¸°í™”
}
```

#### 5.3.6 Side Drawer (ì™¼ìª½ ìŠ¬ë¼ì´ë“œ)

**ì—´ê¸° íŠ¸ë¦¬ê±°:** í—¤ë”ì˜ í–„ë²„ê±° ë©”ë‰´ í´ë¦­

##### 5.3.6.1 ë©”ì¸ ë·°

| ì„¹ì…˜ | ë‚´ìš© |
|------|------|
| **ê·¸ë£¹ ì •ë³´** | ê·¸ë£¹ ì´ë¦„ + ë©¤ë²„ ìˆ˜ + ì„¤ì • ë²„íŠ¼ (ê´€ë¦¬ìë§Œ) |
| **Now Reading** | í˜„ì¬ ì½ëŠ” ì±… í‘œì§€ + ì œëª© + ì €ì |
| **ì±•í„° ëª©ë¡** | TOC ê¸°ë°˜ ì±•í„° ë„¤ë¹„ê²Œì´ì…˜ (í´ë¦­ ì‹œ í•´ë‹¹ ìœ„ì¹˜ë¡œ ì í”„) |
| **History** | ì™„ë£Œí•œ ì±… ëª©ë¡ (í˜¸ë²„ ì‹œ "ë¦¬ë·° ìˆ˜ì •" ë²„íŠ¼ í‘œì‹œ) |
| **ìƒˆ ì±… ì‹œì‘í•˜ê¸°** | BookSearchModal ì—´ê¸° |
| **ì´ˆëŒ€ ë§í¬ ê³µìœ ** | í´ë¦½ë³´ë“œì— ì´ˆëŒ€ ë§í¬ ë³µì‚¬ |

**ì±•í„° ë„¤ë¹„ê²Œì´ì…˜:**
- í˜„ì¬ ìœ„ì¹˜ ì±•í„°ëŠ” Lime-400 ë°°ê²½
- í´ë¦­ ì‹œ `viewProgress`ë¥¼ í•´ë‹¹ ì±•í„°ì˜ `start` ê°’ìœ¼ë¡œ ì„¤ì •
- í˜¸ë²„ ì‹œ ì±•í„°ì˜ ì‹œì‘ ìœ„ì¹˜ (N%) í‘œì‹œ

##### 5.3.6.2 ì„¤ì • ë·° (ê´€ë¦¬ìë§Œ)

**ì ‘ê·¼:** ë©”ì¸ ë·°ì—ì„œ ì„¤ì • ì•„ì´ì½˜ í´ë¦­

| ì„¹ì…˜ | ë‚´ìš© |
|------|------|
| **ê·¸ë£¹ ì´ë¦„ ìˆ˜ì •** | ì…ë ¥ í•„ë“œ + ì €ì¥ ë²„íŠ¼ |
| **ë©¤ë²„ ê´€ë¦¬** | ë©¤ë²„ ëª©ë¡ (ì•„ë°”íƒ€, ë‹‰ë„¤ì„, ADMIN ë°°ì§€) |
| **ë©¤ë²„ ë©”ë‰´** | MoreVertical ì•„ì´ì½˜ í´ë¦­ ì‹œ ë“œë¡­ë‹¤ìš´ |
|  | - "ê´€ë¦¬ì ìœ„ì„" (UserCheck ì•„ì´ì½˜) |
|  | - "ê°•ì œ í‡´ì¥" (UserX ì•„ì´ì½˜, ë¹¨ê°„ìƒ‰) |
| **ê·¸ë£¹ ë‚˜ê°€ê¸°** | í•˜ë‹¨ ë¹¨ê°„ìƒ‰ ë²„íŠ¼ |

**ê´€ë¦¬ì ê¶Œí•œ í™•ì¸:**
```typescript
const isAdmin = computed(() =>
  members.value.find(m => m.id === currentUserId.value)?.role === 'admin'
)
```

#### 5.3.7 Book Search Modal

- **ì»´í¬ë„ŒíŠ¸:** `<BookSearchModal>`
- **íŠ¸ë¦¬ê±°:** Side Drawerì˜ "ìƒˆ ì±… ì‹œì‘í•˜ê¸°" ë²„íŠ¼
- **Props:** `isOpen` (boolean)
- **ì´ë²¤íŠ¸:** `@confirm` - ì±… ì¶”ê°€ ì™„ë£Œ ì‹œ

#### 5.3.8 Review Modal

- **ì»´í¬ë„ŒíŠ¸:** `<ReviewModal>`
- **íŠ¸ë¦¬ê±°:** ë…ì„œ ì§„í–‰ë¥ ì´ 100%ì— ë„ë‹¬í•  ë•Œ
- **Props:**
  - `isOpen`: boolean
  - `initialRating`: ê¸°ì¡´ ë¦¬ë·° ë³„ì  (ìˆ˜ì • ì‹œ)
  - `initialContent`: ê¸°ì¡´ ë¦¬ë·° ë‚´ìš© (ìˆ˜ì • ì‹œ)
- **ì´ë²¤íŠ¸:** `@submit` - ë¦¬ë·° ì œì¶œ

**ë¦¬ë·° ì œì¶œ ë¡œì§:**
```typescript
const handleReviewSubmit = async (data: any) => {
  await client.from('reviews').insert({
    user_id: userStore.user.id,
    book_id: currentBook.value.book.isbn,
    rating: data.rating,
    content: data.content
  })
}
```

#### 5.3.9 Realtime êµ¬ë…

**êµ¬ë… ì±„ë„:** `public:comments`

```typescript
onMounted(async () => {
  realtimeChannel = client.channel('public:comments')
    .on('postgres_changes',
      { event: 'INSERT', schema: 'public', table: 'comments' },
      (payload) => {
        if (payload.new.group_book_id === currentBook.value.id) {
          fetchComments(currentBook.value.id)
        }
      }
    )
    .subscribe()
})

onUnmounted(() => {
  if (realtimeChannel) client.removeChannel(realtimeChannel)
})
```

#### 5.3.10 ì£¼ìš” ìƒíƒœ

| ìƒíƒœ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `readProgress` | number | ì‚¬ìš©ìì˜ ì‹¤ì œ ë…ì„œ ì§„í–‰ë¥  (ìŠ¤í¬ì¼ëŸ¬ ê¸°ì¤€) |
| `viewProgress` | number | ìŠ¬ë¼ì´ë”ì˜ í˜„ì¬ ìœ„ì¹˜ (0-100) |
| `drawerOpen` | boolean | Side Drawer ì—´ë¦¼ ì—¬ë¶€ |
| `showSettings` | boolean | ì„¤ì • ë·° í‘œì‹œ ì—¬ë¶€ |
| `searchModalOpen` | boolean | ì±… ê²€ìƒ‰ ëª¨ë‹¬ ì—´ë¦¼ ì—¬ë¶€ |
| `reviewModalOpen` | boolean | ë¦¬ë·° ëª¨ë‹¬ ì—´ë¦¼ ì—¬ë¶€ |
| `showCommentInput` | boolean | ëŒ“ê¸€ ì…ë ¥ ì˜¤ë²„ë ˆì´ í‘œì‹œ ì—¬ë¶€ |
| `group` | object | ê·¸ë£¹ ì •ë³´ |
| `currentBook` | object | í˜„ì¬ ì½ëŠ” ì±… ì •ë³´ |
| `members` | array | ê·¸ë£¹ ë©¤ë²„ ëª©ë¡ |
| `comments` | array | ëŒ“ê¸€ ëª©ë¡ |
| `historyBooks` | array | ì™„ë£Œí•œ ì±… ëª©ë¡ |

---

### 5.4 í”„ë¡œí•„ í˜ì´ì§€ (`/profile`)

**íŒŒì¼ ê²½ë¡œ:** `pages/profile.vue`

#### 5.4.1 í™”ë©´ ê°œìš”

- **ëª©ì :** ì‚¬ìš©ì ì •ë³´ ìˆ˜ì • ë° ë…ì„œ í†µê³„ í™•ì¸
- **ì ‘ê·¼ ê¶Œí•œ:** ë¡œê·¸ì¸ ì‚¬ìš©ìë§Œ
- **ë ˆì´ì•„ì›ƒ:** í—¤ë” + í†µê³„ ì¹´ë“œ + í”„ë¡œí•„ í¸ì§‘ í¼

#### 5.4.2 í—¤ë”

| ìš”ì†Œ | ë™ì‘ |
|------|------|
| **ë’¤ë¡œê°€ê¸° ë²„íŠ¼** | `router.back()` |
| **íƒ€ì´í‹€** | "ë‚´ ì •ë³´ ìˆ˜ì •" |

#### 5.4.3 í†µê³„ ì„¹ì…˜

2ì—´ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ:

| ì¹´ë“œ 1 | ì¹´ë“œ 2 |
|--------|--------|
| **ì½ì€ ì±…** | **ì°¸ì—¬ ì¤‘ì¸ ê·¸ë£¹** |
| reviews í…Œì´ë¸” count | group_members í…Œì´ë¸” count |
| "Nê¶Œ" (í°ìƒ‰) | "Nê°œ" (Lime-400) |

**ìŠ¤íƒ€ì¼:** bg-zinc-800/50, rounded-2xl, border-zinc-700

#### 5.4.4 ì›”ë³„ ë…ì„œëŸ‰ ì°¨íŠ¸

- **íƒ€ì…:** CSS ê¸°ë°˜ Mock ì°¨íŠ¸ (ì‹¤ì œ ë°ì´í„° ì—°ë™ ì—†ìŒ)
- **ë ˆì´ì•„ì›ƒ:** 12ê°œ ì„¸ë¡œ ë§‰ëŒ€ (1ì›”~12ì›”)
- **ì• ë‹ˆë©”ì´ì…˜:** ê° ë§‰ëŒ€ì˜ ë†’ì´ê°€ ë‹¤ë¥´ê²Œ ì„¤ì •ë¨ (30%, 45%, 20%, ...)
- **í˜¸ë²„ íš¨ê³¼:** bg-lime-400/80 â†’ bg-lime-400

#### 5.4.5 í”„ë¡œí•„ ì´ë¯¸ì§€ ì„¹ì…˜

| ìš”ì†Œ | ì„¤ëª… |
|------|------|
| **ì›í˜• ì•„ë°”íƒ€** | 96px, ê¸°ë³¸ User ì•„ì´ì½˜ ë˜ëŠ” ì´ë¯¸ì§€ |
| **í˜¸ë²„ ì˜¤ë²„ë ˆì´** | ì¹´ë©”ë¼ ì•„ì´ì½˜ + "í”„ë¡œí•„ ì‚¬ì§„ ë³€ê²½" |
| **í´ë¦­ ë™ì‘** | MVPì—ì„œ ë¯¸êµ¬í˜„ (UIë§Œ ì¤€ë¹„) |

#### 5.4.6 ë‹‰ë„¤ì„ í¸ì§‘ í¼

| ìš”ì†Œ | ì„¤ëª… |
|------|------|
| **ì…ë ¥ í•„ë“œ** | í˜„ì¬ ë‹‰ë„¤ì„ìœ¼ë¡œ ì´ˆê¸°í™” |
| **ì €ì¥ ë²„íŠ¼** | Lime-400 ë°°ê²½, "ì €ì¥í•˜ê¸°" |
| **ë¡œë”© ìƒíƒœ** | "ì €ì¥ ì¤‘..." |

**ì €ì¥ ë¡œì§:**
```typescript
const saveProfile = async () => {
  await client.from('users')
    .update({ nickname: nickname.value })
    .eq('id', userStore.user.id)

  alert('í”„ë¡œí•„ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.')
  await userStore.fetchProfile() // ìŠ¤í† ì–´ ê°±ì‹ 
}
```

#### 5.4.7 ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼

- **ìœ„ì¹˜:** í•˜ë‹¨ (êµ¬ë¶„ì„  ìœ„)
- **ìŠ¤íƒ€ì¼:** bg-red-400/10, text-red-400
- **ì•„ì´ì½˜:** LogOut
- **ë™ì‘:** `userStore.signOut()` í˜¸ì¶œ í›„ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™

---

### 5.5 ì´ˆëŒ€ ì°¸ì—¬ í˜ì´ì§€ (`/join/[code]`)

**íŒŒì¼ ê²½ë¡œ:** `pages/join/[code].vue`

#### 5.5.1 í™”ë©´ ê°œìš”

- **ëª©ì :** ì´ˆëŒ€ ì½”ë“œë¡œ ê·¸ë£¹ì— ì°¸ì—¬
- **ì ‘ê·¼ ê¶Œí•œ:** ë¡œê·¸ì¸ ì‚¬ìš©ìë§Œ
- **ë ˆì´ì•„ì›ƒ:** ì¤‘ì•™ ì •ë ¬ ì¹´ë“œ

#### 5.5.2 UI êµ¬ì„± (MVP - Mock)

| ìš”ì†Œ | ì„¤ëª… |
|------|------|
| **ê·¸ë£¹ ì´ë¦„** | ì´ˆëŒ€ë°›ì€ ê·¸ë£¹ ì´ë¦„ í‘œì‹œ |
| **ë©¤ë²„ ìˆ˜** | "í˜„ì¬ Nëª…ì´ ì°¸ì—¬ ì¤‘ì…ë‹ˆë‹¤" |
| **ì°¸ì—¬ ë²„íŠ¼** | Lime-400 ë°°ê²½, "ê·¸ë£¹ ì°¸ì—¬í•˜ê¸°" |
| **ê±°ì ˆ ë²„íŠ¼** | Zinc-800 ë°°ê²½, "ì·¨ì†Œ" |

**ì°¸ê³ :** MVPì—ì„œëŠ” ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ ì—†ì´ Mock ë°ì´í„°ë¡œ í‘œì‹œ

---

## 6. ì£¼ìš” ê¸°ëŠ¥ ë° ì‚¬ìš©ì í”Œë¡œìš°

### 6.1 íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ í”Œë¡œìš°

```
[ì‚¬ìš©ì ì ‘ì†]
   â†“
[ë¡œê·¸ì¸ í˜ì´ì§€ (/login)]
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸  â”‚  êµ¬ê¸€ ë¡œê·¸ì¸    â”‚  ì´ë©”ì¼ ë¡œê·¸ì¸  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“                  â†“                  â†“
[OAuth Provider]  [OAuth Provider]  [ì´ë©”ì¼/PW ì…ë ¥]
   â†“                  â†“                  â†“
[Supabase Auth ì¸ì¦]
   â†“
[JWT í† í° ë°œê¸‰ ë° ì„¸ì…˜ ì €ì¥]
   â†“
[users í…Œì´ë¸”ì— í”„ë¡œí•„ ìƒì„±/ì¡°íšŒ]
   â†“
[ëŒ€ì‹œë³´ë“œë¡œ ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸ (/)]
```

### 6.2 ê·¸ë£¹ ìƒì„± ë° ë©¤ë²„ ì´ˆëŒ€ í”Œë¡œìš°

```
[ëŒ€ì‹œë³´ë“œ â†’ FAB í´ë¦­]
   â†“
[ê·¸ë£¹ ìƒì„± ëª¨ë‹¬ (ë¯¸êµ¬í˜„)]
   â†“
[ê·¸ë£¹ ì´ë¦„ ì…ë ¥ â†’ ì œì¶œ]
   â†“
[Supabase: groups í…Œì´ë¸”ì— INSERT]
   â†“
[invite_code ìë™ ìƒì„± (6ìë¦¬ ëœë¤)]
   â†“
[group_members í…Œì´ë¸”ì— ìì‹ ì„ adminìœ¼ë¡œ ì¶”ê°€]
   â†“
[ê·¸ë£¹ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™ (/group/{id})]
   â†“
[Side Drawer â†’ "ì´ˆëŒ€ ë§í¬ ê³µìœ " í´ë¦­]
   â†“
[í´ë¦½ë³´ë“œì— ë³µì‚¬: https://sidekick.app/join/{invite_code}]
   â†“
[ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ë§í¬ ì ‘ì† â†’ /join/{code} í˜ì´ì§€]
   â†“
["ê·¸ë£¹ ì°¸ì—¬í•˜ê¸°" ë²„íŠ¼ í´ë¦­]
   â†“
[group_members í…Œì´ë¸”ì— user_id + group_id INSERT (role='member')]
   â†“
[ê·¸ë£¹ ìƒì„¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸]
```

### 6.3 ì±… ì¶”ê°€ ë° ë…ì„œ ì‹œì‘ í”Œë¡œìš°

```
[ê·¸ë£¹ ìƒì„¸ í˜ì´ì§€ â†’ Side Drawer â†’ "ìƒˆ ì±… ì‹œì‘í•˜ê¸°"]
   â†“
[BookSearchModal ì—´ë¦¼]
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: ì±… ê²€ìƒ‰                    â”‚
â”‚  - ì œëª©/ì €ìë¡œ ê²€ìƒ‰ (Mock ë°ì´í„°)   â”‚
â”‚  - ê²°ê³¼ ëª©ë¡ í‘œì‹œ                   â”‚
â”‚  - ì±… ì„ íƒ                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: ì±… ì •ë³´ ì…ë ¥               â”‚
â”‚  - ì´ í˜ì´ì§€ ìˆ˜ ì…ë ¥                â”‚
â”‚  - ì±•í„° ëª©ì°¨ ìˆ˜ë™ ì…ë ¥ (ì œëª© + í˜ì´ì§€)â”‚
â”‚  - "í™•ì¸" ë²„íŠ¼ í´ë¦­                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
[books í…Œì´ë¸”ì— ì±… ì •ë³´ INSERT (ISBN, title, author, total_pages, draft_toc)]
   â†“
[í˜ì´ì§€ â†’ í¼ì„¼íŠ¸ ë³€í™˜ (0-100)]
   â†“
[group_books í…Œì´ë¸”ì— INSERT (group_id, isbn, toc_snapshot, status='reading')]
   â†“
[ëª¨ë‹¬ ë‹«ê¸° â†’ ê·¸ë£¹ ìƒì„¸ í˜ì´ì§€ ê°±ì‹ ]
   â†“
[Timelineì— ìƒˆ ì±… ì •ë³´ í‘œì‹œ, SmartSlider í™œì„±í™”]
```

### 6.4 ë…ì„œ ë° ëŒ“ê¸€ ì‘ì„± í”Œë¡œìš°

```
[ê·¸ë£¹ ìƒì„¸ í˜ì´ì§€]
   â†“
[SmartSliderë¡œ ë…ì„œ ìœ„ì¹˜ ì¡°ì ˆ (ë“œë˜ê·¸)]
   â†“
[viewProgress ì—…ë°ì´íŠ¸ (0-100)]
   â†“
[Write ë²„íŠ¼ (íœ ì•„ì´ì½˜) í´ë¦­]
   â†“
[ëŒ“ê¸€ ì…ë ¥ ì˜¤ë²„ë ˆì´ í‘œì‹œ]
   â†“
["N% ìœ„ì¹˜ì— ëŒ“ê¸€ ë‚¨ê¸°ê¸°"]
   â†“
[í…ìŠ¤íŠ¸ ì…ë ¥ â†’ "ë“±ë¡" ë²„íŠ¼ í´ë¦­]
   â†“
[Supabase: comments í…Œì´ë¸”ì— INSERT]
   â†“
[Realtime ì´ë²¤íŠ¸ ë°œìƒ (INSERT)]
   â†“
[ëª¨ë“  êµ¬ë… ì¤‘ì¸ í´ë¼ì´ì–¸íŠ¸ì— WebSocket í‘¸ì‹œ]
   â†“
[fetchComments() ì¬í˜¸ì¶œ]
   â†“
[Timeline ì»´í¬ë„ŒíŠ¸ ê°±ì‹ ]
   â†“
[ìƒˆ ëŒ“ê¸€ì´ ìœ„ì¹˜ì— ë§ê²Œ ì •ë ¬ë˜ì–´ í‘œì‹œ]
```

**ìŠ¤í¬ì¼ëŸ¬ ë³´í˜¸ ë™ì‘:**
```
[ì‚¬ìš©ìì˜ readProgress = 50%]
   â†“
[Timelineì˜ ëŒ“ê¸€ ì¤‘ position_pct > 50ì¸ ëŒ“ê¸€ì€ ë¸”ëŸ¬ ì²˜ë¦¬]
   â†“
[Lock ì•„ì´ì½˜ + "Spoiler (75%)" í‘œì‹œ]
   â†“
[í´ë¦­ ì‹œ revealed[commentId] = true]
   â†“
[ë¸”ëŸ¬ ì œê±°, ë‚´ìš© í‘œì‹œ]
```

### 6.5 ë¦¬ë·° ì‘ì„± í”Œë¡œìš°

```
[ë…ì„œ ì§„í–‰ë¥  100% ë„ë‹¬]
   â†“
[handleSliderChange()ì—ì„œ ê°ì§€]
   â†“
[500ms í›„ ReviewModal ìë™ í‘œì‹œ]
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ReviewModal                        â”‚
â”‚  - ë³„ì  ì„ íƒ (1-5, í•„ìˆ˜)            â”‚
â”‚  - ë¦¬ë·° ë‚´ìš© ì…ë ¥ (ì„ íƒ)            â”‚
â”‚  - "ì œì¶œ" ë²„íŠ¼ í´ë¦­                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
[reviews í…Œì´ë¸”ì— INSERT]
   â†“
[ëª¨ë‹¬ ë‹«ê¸°]
   â†“
[ì•Œë¦¼: "ë¦¬ë·°ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!"]
```

### 6.6 ì•Œë¦¼ ì‹œìŠ¤í…œ í”Œë¡œìš° (MVP - Mock)

```
[ëŒ“ê¸€ì— ë‹µê¸€ ì‘ì„±]
   â†“
[notifications í…Œì´ë¸”ì— INSERT]
   â†“
{
  user_id: ì›ëŒ“ê¸€ ì‘ì„±ì ID,
  type: 'reply',
  source_id: ë‹µê¸€ ëŒ“ê¸€ ID,
  is_read: false
}
   â†“
[í—¤ë”ì˜ NotificationCenter ì»´í¬ë„ŒíŠ¸]
   â†“
[ë¯¸ì½ì€ ì•Œë¦¼ ê°œìˆ˜ ë°°ì§€ í‘œì‹œ]
   â†“
[ë²¨ ì•„ì´ì½˜ í´ë¦­ â†’ ë“œë¡­ë‹¤ìš´ í‘œì‹œ]
   â†“
[ì•Œë¦¼ ëª©ë¡ (ìµœê·¼ 10ê°œ)]
   â†“
[í´ë¦­ ì‹œ í•´ë‹¹ ëŒ“ê¸€/ê·¸ë£¹ìœ¼ë¡œ ì´ë™]
   â†“
["ëª¨ë‘ ì½ìŒ ì²˜ë¦¬" ë²„íŠ¼ â†’ is_read=true ì—…ë°ì´íŠ¸]
```

---

## 7. ì»´í¬ë„ŒíŠ¸ ëª…ì„¸

### 7.1 Timeline.vue

**íŒŒì¼ ê²½ë¡œ:** `components/Timeline.vue`

#### 7.1.1 Props

| Prop | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `comments` | `Comment[]` | ëŒ“ê¸€ ëª©ë¡ (position_pct ì •ë ¬) |
| `readProgress` | `number` | ì‚¬ìš©ìì˜ ì‹¤ì œ ë…ì„œ ì§„í–‰ë¥  (0-100) |

#### 7.1.2 ì£¼ìš” ê¸°ëŠ¥

- **ëŒ“ê¸€ í‘œì‹œ:** ì‚¬ìš©ì ì•„ë°”íƒ€, ë‹‰ë„¤ì„, ì‘ì„± ì‹œê°„, ë‚´ìš©
- **ì¸ìš© í‘œì‹œ:** `anchor_text`ê°€ ìˆìœ¼ë©´ ì„¸ë¦¬í”„ í°íŠ¸ë¡œ ì¸ìš©ë¬¸ í‘œì‹œ
- **ìŠ¤í¬ì¼ëŸ¬ ë³´í˜¸:** `position_pct > readProgress`ì¸ ëŒ“ê¸€ì€ ë¸”ëŸ¬ + ì ê¸ˆ ì•„ì´ì½˜
- **í´ë¦­í•˜ì—¬ ê³µê°œ:** `revealed[commentId]` ìƒíƒœë¡œ ê´€ë¦¬
- **ì¢‹ì•„ìš”/ë‹µê¸€:** ê° ëŒ“ê¸€ì— Heart ì•„ì´ì½˜ (ì¢‹ì•„ìš”), MessageCircle ì•„ì´ì½˜ (ë‹µê¸€)
- **ì¤‘ì²© ë‹µê¸€:** `parent_id`ê°€ ìˆëŠ” ëŒ“ê¸€ì€ ë“¤ì—¬ì“°ê¸° í‘œì‹œ

#### 7.1.3 ìƒíƒœ

| ìƒíƒœ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `revealed` | `Record<string, boolean>` | ìŠ¤í¬ì¼ëŸ¬ ê³µê°œ ì—¬ë¶€ (ëŒ“ê¸€ IDë³„) |
| `activeReplyId` | `string | null` | ë‹µê¸€ ì…ë ¥ í¼ì´ ì—´ë¦° ëŒ“ê¸€ ID |
| `replyContent` | `string` | ë‹µê¸€ ë‚´ìš© |

#### 7.1.4 ë©”ì„œë“œ

```typescript
const isSpoiler = (comment: Comment) => {
  return comment.position_pct > props.readProgress
}

const toggleSpoiler = (id: string) => {
  revealed.value[id] = !revealed.value[id]
}

const toggleLike = (id: string) => { /* ... */ }
const toggleReplyForm = (id: string) => { /* ... */ }
const submitReply = (parentId: string) => { /* ... */ }
```

#### 7.1.5 ìŠ¤íƒ€ì¼

- **íƒ€ì„ë¼ì¸ ë¼ì¸:** ì¢Œì¸¡ ì„¸ë¡œ border-l-2 border-zinc-800
- **ìœ„ì¹˜ ì¸ë””ì¼€ì´í„°:** ê° ëŒ“ê¸€ ì¢Œì¸¡ì— ì‘ì€ ì›í˜• ì 
- **ìŠ¤í¬ì¼ëŸ¬ ì˜¤ë²„ë ˆì´:** absolute inset-0, backdrop-blur-sm
- **ì• ë‹ˆë©”ì´ì…˜:** ë‹µê¸€ ì…ë ¥ í¼ `animate-fade-in`

---

### 7.2 SmartSlider.vue

**íŒŒì¼ ê²½ë¡œ:** `components/SmartSlider.vue`

#### 7.2.1 Props

| Prop | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `modelValue` | `number` | í˜„ì¬ ìŠ¬ë¼ì´ë” ê°’ (0-100) |
| `toc` | `Chapter[]` | ì±•í„° ëª©ì°¨ ë°°ì—´ |

**Chapter ì¸í„°í˜ì´ìŠ¤:**
```typescript
interface Chapter {
  title: string
  start: number  // 0-100
  end: number    // 0-100
}
```

#### 7.2.2 Emits

| ì´ë²¤íŠ¸ | íŒŒë¼ë¯¸í„° | ì„¤ëª… |
|--------|----------|------|
| `update:modelValue` | `number` | v-model ë™ê¸°í™” |
| `change` | `number` | ë“œë˜ê·¸ ì¢…ë£Œ ì‹œ ìµœì¢… ê°’ |
| `write` | - | Write ë²„íŠ¼ í´ë¦­ |

#### 7.2.3 ì£¼ìš” ê¸°ëŠ¥

- **ë“œë˜ê·¸ ì¸í„°ë™ì…˜:** PointerEvent ì‚¬ìš© (í„°ì¹˜/ë§ˆìš°ìŠ¤ í†µí•©)
- **ì±•í„° ë°°ê²½:** TOC ê¸°ë°˜ìœ¼ë¡œ ê° ì±•í„°ë¥¼ ë‹¤ë¥¸ ìƒ‰ìƒ ë¸”ë¡ìœ¼ë¡œ í‘œì‹œ
- **í˜„ì¬ ì±•í„° í•˜ì´ë¼ì´íŠ¸:** `bg-lime-400/20`
- **ë£°ëŸ¬ í‹±:** 20ê°œì˜ ì„¸ë¡œ ë§‰ëŒ€ (5ì˜ ë°°ìˆ˜ë§ˆë‹¤ ë” ê¸´ ì„ )
- **ì§„í–‰ ë°”:** Lime-400 ìƒ‰ìƒ, í•˜ë‹¨ì— 1px ë†’ì´
- **ì¸ (í•¸ë“¤):** ì›í˜• ì , ê·¸ë¦¼ì íš¨ê³¼, ìœ„ì¹˜ì— ë”°ë¼ ì¢Œìš° ì´ë™
- **íˆ´íŒ:** ë“œë˜ê·¸ ì¤‘ì—ë§Œ í‘œì‹œ (í¼ì„¼íŠ¸ + ì±•í„° ì´ë¦„)

#### 7.2.4 ìƒíƒœ

| ìƒíƒœ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `isDragging` | boolean | ë“œë˜ê·¸ ì¤‘ ì—¬ë¶€ |
| `localPct` | number | ë¡œì»¬ ìŠ¬ë¼ì´ë” ê°’ (ë“œë˜ê·¸ ì¤‘) |

#### 7.2.5 Computed

```typescript
const chapters = computed(() => {
  const list = props.toc || defaultToc
  return list.map(c => ({
    ...c,
    width: c.end - c.start
  }))
})

const currentPct = computed(() =>
  isDragging.value ? localPct.value : props.modelValue
)

const currentChapterName = computed(() => {
  const pct = currentPct.value
  const found = chapters.value.find(c => pct >= c.start && pct < c.end)
  return found ? found.title : 'End'
})
```

#### 7.2.6 ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬

```typescript
const handlePointerDown = (event: PointerEvent) => {
  isDragging.value = true
  sliderRef.value?.setPointerCapture(event.pointerId)
  updatePosition(event)
}

const handlePointerMove = (event: PointerEvent) => {
  if (!isDragging.value) return
  updatePosition(event)
}

const handlePointerUp = (event: PointerEvent) => {
  if (!isDragging.value) return
  isDragging.value = false
  sliderRef.value?.releasePointerCapture(event.pointerId)
  emit('change', localPct.value)
}

const updatePosition = (event: PointerEvent) => {
  const rect = sliderRef.value.getBoundingClientRect()
  const x = Math.max(0, Math.min(event.clientX - rect.left, rect.width))
  const pct = (x / rect.width) * 100
  localPct.value = pct
  emit('update:modelValue', pct)
}
```

#### 7.2.7 í•˜ë‹¨ ì•¡ì…˜ ë°”

| ìš”ì†Œ | ì„¤ëª… |
|------|------|
| **í˜„ì¬ ì±•í„°ëª…** | font-mono, text-xs, text-zinc-500 |
| **Write ë²„íŠ¼** | ì›í˜• ë²„íŠ¼, PenLine ì•„ì´ì½˜, bg-zinc-800 |

---

### 7.3 BookSearchModal.vue

**íŒŒì¼ ê²½ë¡œ:** `components/BookSearchModal.vue`

#### 7.3.1 Props

| Prop | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `isOpen` | boolean | ëª¨ë‹¬ ì—´ë¦¼ ì—¬ë¶€ |

#### 7.3.2 Emits

| ì´ë²¤íŠ¸ | íŒŒë¼ë¯¸í„° | ì„¤ëª… |
|--------|----------|------|
| `close` | - | ëª¨ë‹¬ ë‹«ê¸° |
| `confirm` | `BookData` | ì±… ì¶”ê°€ ì™„ë£Œ |

#### 7.3.3 2ë‹¨ê³„ ì›Œí¬í”Œë¡œìš°

**Step 1: ê²€ìƒ‰**

| ìš”ì†Œ | ì„¤ëª… |
|------|------|
| **ê²€ìƒ‰ ì…ë ¥** | ì œëª©/ì €ìë¡œ ê²€ìƒ‰ |
| **Mock ì±… ëª©ë¡** | í•˜ë“œì½”ë”©ëœ 3-5ê¶Œì˜ ì±… |
| **ì±… ì¹´ë“œ** | í‘œì§€ + ì œëª© + ì €ì |
| **ì„ íƒ ë²„íŠ¼** | "ì´ ì±…ìœ¼ë¡œ ì‹œì‘í•˜ê¸°" |

**Step 2: ì„¤ì •**

| ìš”ì†Œ | ì„¤ëª… |
|------|------|
| **ì´ í˜ì´ì§€ ìˆ˜** | ìˆ«ì ì…ë ¥ í•„ë“œ |
| **ì±•í„° ì¶”ê°€** | ì œëª© + í˜ì´ì§€ ì…ë ¥, "+" ë²„íŠ¼ìœ¼ë¡œ ì¶”ê°€ |
| **ì±•í„° ëª©ë¡** | ì œëª© + í˜ì´ì§€ ë²”ìœ„ í‘œì‹œ |
| **í™•ì¸ ë²„íŠ¼** | ìµœì¢… ì œì¶œ |

#### 7.3.4 í˜ì´ì§€ â†’ í¼ì„¼íŠ¸ ë³€í™˜

```typescript
const convertToPercentages = (chapters: any[], totalPages: number) => {
  return chapters.map(ch => ({
    title: ch.title,
    start: (ch.startPage / totalPages) * 100,
    end: (ch.endPage / totalPages) * 100
  }))
}
```

#### 7.3.5 Mock ë°ì´í„° ì˜ˆì‹œ

```typescript
const mockBooks = [
  {
    isbn: '9788936434267',
    title: 'ì†Œë…„ì´ ì˜¨ë‹¤',
    author: 'í•œê°•',
    cover_url: 'https://example.com/cover1.jpg'
  },
  {
    isbn: '9788936434120',
    title: 'ì±„ì‹ì£¼ì˜ì',
    author: 'í•œê°•',
    cover_url: 'https://example.com/cover2.jpg'
  },
  {
    isbn: '9788959896917',
    title: 'íŠ¸ë Œë“œ ì½”ë¦¬ì•„ 2025',
    author: 'ê¹€ë‚œë„ ì™¸',
    cover_url: 'https://example.com/cover3.jpg'
  }
]
```

---

### 7.4 ReviewModal.vue

**íŒŒì¼ ê²½ë¡œ:** `components/ReviewModal.vue`

#### 7.4.1 Props

| Prop | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `isOpen` | boolean | ëª¨ë‹¬ ì—´ë¦¼ ì—¬ë¶€ |
| `initialRating` | number | ê¸°ì¡´ ë³„ì  (ìˆ˜ì • ì‹œ) |
| `initialContent` | string | ê¸°ì¡´ ë¦¬ë·° ë‚´ìš© (ìˆ˜ì • ì‹œ) |

#### 7.4.2 Emits

| ì´ë²¤íŠ¸ | íŒŒë¼ë¯¸í„° | ì„¤ëª… |
|--------|----------|------|
| `close` | - | ëª¨ë‹¬ ë‹«ê¸° |
| `submit` | `{ rating: number, content: string }` | ë¦¬ë·° ì œì¶œ |

#### 7.4.3 UI êµ¬ì„±

| ìš”ì†Œ | ì„¤ëª… |
|------|------|
| **íƒ€ì´í‹€** | "ì±…ì„ ë‹¤ ì½ìœ¼ì…¨êµ°ìš”! ë³„ì ì„ ë‚¨ê²¨ì£¼ì„¸ìš”" |
| **ë³„ì  ì„ íƒ** | 1-5ê°œ ë³„ ì•„ì´ì½˜, í´ë¦­/í˜¸ë²„ë¡œ ì„ íƒ |
| **ë¦¬ë·° ë‚´ìš©** | ë©€í‹°ë¼ì¸ í…ìŠ¤íŠ¸ ì˜ì—­ (ì„ íƒ ì‚¬í•­) |
| **ì œì¶œ ë²„íŠ¼** | "ë¦¬ë·° ì œì¶œ" (rating=0ì´ë©´ ë¹„í™œì„±í™”) |
| **ë‹«ê¸° ë²„íŠ¼** | ìš°ìƒë‹¨ X ì•„ì´ì½˜ |

#### 7.4.4 ë³„ì  UI

```html
<div class="flex gap-2">
  <Star
    v-for="i in 5"
    :key="i"
    :fill="i <= rating ? 'currentColor' : 'none'"
    @click="rating = i"
    class="cursor-pointer text-yellow-400"
  />
</div>
```

---

### 7.5 NotificationCenter.vue

**íŒŒì¼ ê²½ë¡œ:** `components/NotificationCenter.vue`

#### 7.5.1 Props

ì—†ìŒ (ë‚´ë¶€ì—ì„œ Supabase ì¡°íšŒ)

#### 7.5.2 ì£¼ìš” ê¸°ëŠ¥

- **ë²¨ ì•„ì´ì½˜:** í—¤ë” ìš°ì¸¡ì— ê³ ì •
- **ë¯¸ì½ì€ ê°œìˆ˜ ë°°ì§€:** ë¹¨ê°„ ì›í˜• ë°°ì§€ (ìˆ«ì í‘œì‹œ)
- **ë“œë¡­ë‹¤ìš´ ë©”ë‰´:** í´ë¦­ ì‹œ ìµœê·¼ 10ê°œ ì•Œë¦¼ í‘œì‹œ
- **ì•Œë¦¼ íƒ€ì…ë³„ ì•„ì´ì½˜:**
  - `reply`: MessageCircle
  - `like`: Heart
  - `notice`: Info
- **í´ë¦­ ë™ì‘:** í•´ë‹¹ ëŒ“ê¸€/ê·¸ë£¹ìœ¼ë¡œ ì´ë™ (ë¼ìš°í„° ë„¤ë¹„ê²Œì´ì…˜)
- **ëª¨ë‘ ì½ìŒ ì²˜ë¦¬:** í•˜ë‹¨ ë²„íŠ¼ìœ¼ë¡œ is_read=true ì—…ë°ì´íŠ¸

#### 7.5.3 ìƒíƒœ

| ìƒíƒœ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| `notifications` | `Notification[]` | ì•Œë¦¼ ëª©ë¡ |
| `isOpen` | boolean | ë“œë¡­ë‹¤ìš´ ì—´ë¦¼ ì—¬ë¶€ |
| `unreadCount` | number | ë¯¸ì½ì€ ì•Œë¦¼ ê°œìˆ˜ |

#### 7.5.4 ë°ì´í„° ì¡°íšŒ

```typescript
const fetchNotifications = async () => {
  const { data } = await client
    .from('notifications')
    .select('*')
    .eq('user_id', userStore.user.id)
    .order('created_at', { ascending: false })
    .limit(10)

  notifications.value = data || []
  unreadCount.value = data?.filter(n => !n.is_read).length || 0
}
```

---

## 8. ìƒíƒœ ê´€ë¦¬ ë° ë°ì´í„° íë¦„

### 8.1 Pinia Store: user.ts

**íŒŒì¼ ê²½ë¡œ:** `stores/user.ts`

#### 8.1.1 State

| ìƒíƒœ | íƒ€ì… | ì´ˆê¸°ê°’ | ì„¤ëª… |
|------|------|--------|------|
| `profile` | `UserProfile | null` | null | ì‚¬ìš©ì í”„ë¡œí•„ (nickname, avatar_url) |

**UserProfile ì¸í„°í˜ì´ìŠ¤:**
```typescript
interface UserProfile {
  id: string
  nickname: string
  avatar_url?: string
  created_at: string
}
```

#### 8.1.2 Getters

| Getter | íƒ€ì… | ì„¤ëª… |
|--------|------|------|
| `user` | `User | null` | Supabase Authì˜ í˜„ì¬ ì‚¬ìš©ì ê°ì²´ |

**êµ¬í˜„:**
```typescript
const user = computed(() => {
  const supabaseUser = useSupabaseUser()
  return supabaseUser.value
})
```

#### 8.1.3 Actions

| Action | íŒŒë¼ë¯¸í„° | ì„¤ëª… |
|--------|----------|------|
| `fetchProfile()` | - | users í…Œì´ë¸”ì—ì„œ í”„ë¡œí•„ ì¡°íšŒ |
| `signIn(email, password)` | string, string | ì´ë©”ì¼ ë¡œê·¸ì¸ |
| `signUp(email, password, nickname)` | string, string, string | íšŒì›ê°€ì… |
| `signOut()` | - | ë¡œê·¸ì•„ì›ƒ |
| `signInWithOAuth(provider)` | 'google' \| 'kakao' | OAuth ë¡œê·¸ì¸ |

**ìƒì„¸ êµ¬í˜„:**

```typescript
// í”„ë¡œí•„ ì¡°íšŒ
const fetchProfile = async () => {
  const client = useSupabaseClient()
  const user = useSupabaseUser()

  if (!user.value) return

  const { data, error } = await client
    .from('users')
    .select('*')
    .eq('id', user.value.id)
    .single()

  if (data) {
    profile.value = data
  }
}

// ë¡œê·¸ì¸
const signIn = async (email: string, password: string) => {
  const client = useSupabaseClient()
  const { error } = await client.auth.signInWithPassword({
    email,
    password
  })

  if (error) throw error

  await fetchProfile()
  const router = useRouter()
  router.push('/')
}

// íšŒì›ê°€ì…
const signUp = async (email: string, password: string, nickname: string) => {
  const client = useSupabaseClient()

  const { data, error } = await client.auth.signUp({
    email,
    password,
    options: {
      data: { nickname }
    }
  })

  if (error) throw error

  // í”„ë¡œí•„ ìƒì„±
  if (data.user) {
    await client.from('users').insert({
      id: data.user.id,
      nickname,
      avatar_url: null
    })
  }
}

// ë¡œê·¸ì•„ì›ƒ
const signOut = async () => {
  const client = useSupabaseClient()
  await client.auth.signOut()

  profile.value = null
  const router = useRouter()
  router.push('/login')
}

// OAuth ë¡œê·¸ì¸
const signInWithOAuth = async (provider: 'google' | 'kakao') => {
  const client = useSupabaseClient()
  const { error } = await client.auth.signInWithOAuth({
    provider,
    options: {
      redirectTo: window.location.origin + '/'
    }
  })

  if (error) throw error
}
```

### 8.2 Composables (Nuxt ë‚´ì¥)

| Composable | ì„¤ëª… |
|------------|------|
| `useSupabaseClient()` | Supabase í´ë¼ì´ì–¸íŠ¸ ì¸ìŠ¤í„´ìŠ¤ |
| `useSupabaseUser()` | í˜„ì¬ ì¸ì¦ëœ ì‚¬ìš©ì (reactive) |
| `useRouter()` | Vue Router ì¸ìŠ¤í„´ìŠ¤ |
| `useRoute()` | í˜„ì¬ ë¼ìš°íŠ¸ ì •ë³´ |

### 8.3 ë°ì´í„° íë¦„ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Component                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Template (ì‚¬ìš©ì UI)                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                      â”‚ Event (í´ë¦­, ì…ë ¥, ë“œë˜ê·¸)        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Script Setup (Composition API)                    â”‚  â”‚
â”‚  â”‚  - ref, computed, onMounted                        â”‚  â”‚
â”‚  â”‚  - useSupabaseClient()                             â”‚  â”‚
â”‚  â”‚  - useUserStore()                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚               â”‚
         â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pinia      â”‚  â”‚  Supabase   â”‚  â”‚   Router    â”‚
â”‚  Store      â”‚  â”‚  Client     â”‚  â”‚             â”‚
â”‚ (user.ts)   â”‚  â”‚  (DB, Auth) â”‚  â”‚  (Nuxt)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  Supabase      â”‚
                â”‚  Backend       â”‚
                â”‚  - PostgreSQL  â”‚
                â”‚  - Realtime    â”‚
                â”‚  - Auth        â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. ë³´ì•ˆ ë° ê¶Œí•œ ê´€ë¦¬

### 9.1 Row Level Security (RLS) ì •ì±…

Supabaseì˜ RLSë¥¼ í†µí•´ í…Œì´ë¸”ë³„ ì ‘ê·¼ ì œì–´:

#### 9.1.1 users í…Œì´ë¸”

| ì‘ì—… | ì •ì±… |
|------|------|
| SELECT | ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥ |
| INSERT | `auth.uid() = id` (ë³¸ì¸ë§Œ ìƒì„±) |
| UPDATE | `auth.uid() = id` (ë³¸ì¸ë§Œ ìˆ˜ì •) |
| DELETE | ë¶ˆê°€ (ì •ì±… ì—†ìŒ) |

#### 9.1.2 groups í…Œì´ë¸”

| ì‘ì—… | ì •ì±… |
|------|------|
| SELECT | ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥ |
| INSERT | `auth.role() = 'authenticated'` |
| UPDATE | `EXISTS (SELECT 1 FROM group_members WHERE group_id = id AND user_id = auth.uid())` |
| DELETE | ë¶ˆê°€ |

#### 9.1.3 group_members í…Œì´ë¸”

| ì‘ì—… | ì •ì±… |
|------|------|
| SELECT | ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥ |
| INSERT | `auth.role() = 'authenticated'` |
| DELETE | `auth.uid() = user_id` (ë³¸ì¸ë§Œ íƒˆí‡´) |

#### 9.1.4 comments í…Œì´ë¸”

| ì‘ì—… | ì •ì±… |
|------|------|
| SELECT | ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥ |
| INSERT | ê·¸ë£¹ ë©¤ë²„ë§Œ ê°€ëŠ¥ (JOINìœ¼ë¡œ ê²€ì¦) |

**ì •ì±… ìƒì„¸:**
```sql
create policy "Group members can comment." on public.comments for insert with check (
  exists (
    select 1 from public.group_books gb
    join public.group_members gm on gb.group_id = gm.group_id
    where gb.id = group_book_id and gm.user_id = auth.uid()
  )
);
```

#### 9.1.5 reactions í…Œì´ë¸”

| ì‘ì—… | ì •ì±… |
|------|------|
| SELECT | ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥ |
| INSERT | `auth.role() = 'authenticated'` |
| DELETE | `auth.uid() = user_id` |

#### 9.1.6 reviews í…Œì´ë¸”

| ì‘ì—… | ì •ì±… |
|------|------|
| SELECT | ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥ |
| INSERT | `auth.role() = 'authenticated'` |
| UPDATE | `auth.uid() = user_id` |

#### 9.1.7 notifications í…Œì´ë¸”

| ì‘ì—… | ì •ì±… |
|------|------|
| SELECT | `auth.uid() = user_id` (ë³¸ì¸ë§Œ ì¡°íšŒ) |
| INSERT | `true` (ì‹œìŠ¤í…œ/ì‚¬ìš©ì ëª¨ë‘ ê°€ëŠ¥, MVP ê°„ì†Œí™”) |
| UPDATE | `auth.uid() = user_id` |

### 9.2 í”„ë¡ íŠ¸ì—”ë“œ ê¶Œí•œ ì œì–´

#### 9.2.1 ë¼ìš°íŠ¸ ë³´í˜¸ (Middleware - ì„ íƒì  êµ¬í˜„)

```typescript
// middleware/auth.ts (ì˜ˆì‹œ)
export default defineNuxtRouteMiddleware((to, from) => {
  const user = useSupabaseUser()

  if (!user.value && to.path !== '/login') {
    return navigateTo('/login')
  }

  if (user.value && to.path === '/login') {
    return navigateTo('/')
  }
})
```

#### 9.2.2 ì»´í¬ë„ŒíŠ¸ ë ˆë²¨ ê¶Œí•œ

```vue
<!-- ê´€ë¦¬ìë§Œ ë³¼ ìˆ˜ ìˆëŠ” ë²„íŠ¼ -->
<button v-if="isAdmin" @click="showSettings = true">
  <Settings :size="20" />
</button>

<script setup>
const isAdmin = computed(() =>
  members.value.find(m => m.id === currentUserId.value)?.role === 'admin'
)
</script>
```

### 9.3 API í‚¤ ê´€ë¦¬

**í™˜ê²½ ë³€ìˆ˜ (.env):**

```env
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here
```

**ì£¼ì˜ì‚¬í•­:**
- `.env` íŒŒì¼ì€ `.gitignore`ì— í¬í•¨
- `VITE_` ì ‘ë‘ì‚¬ëŠ” í´ë¼ì´ì–¸íŠ¸ì— ë…¸ì¶œë¨
- Anon KeyëŠ” RLSì™€ í•¨ê»˜ ì‚¬ìš© ì‹œ ì•ˆì „

### 9.4 CSRF ë° XSS ë°©ì–´

- **CSRF:** Supabase Authì˜ JWT í† í° ê¸°ë°˜ ì¸ì¦ìœ¼ë¡œ ìë™ ë°©ì–´
- **XSS:** Vue 3ì˜ ìë™ ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬
- **SQL Injection:** Supabase Client SDKê°€ íŒŒë¼ë¯¸í„°í™”ëœ ì¿¼ë¦¬ ì‚¬ìš©

---

## 10. ê°œë°œ ê°€ì´ë“œ

### 10.1 í™˜ê²½ ì„¤ì •

#### 10.1.1 í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Node.js 18.x ì´ìƒ
- npm 9.x ì´ìƒ
- Supabase ê³„ì • (ë¬´ë£Œ Tier ê°€ëŠ¥)

#### 10.1.2 í”„ë¡œì íŠ¸ ì„¤ì¹˜

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd sidekick

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘í•˜ì—¬ Supabase í‚¤ ì…ë ¥

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

#### 10.1.3 Supabase ì„¤ì •

1. [Supabase ëŒ€ì‹œë³´ë“œ](https://app.supabase.com) ì ‘ì†
2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
3. Settings â†’ API â†’ URL ë° Anon Key ë³µì‚¬
4. `.env` íŒŒì¼ì— ì…ë ¥
5. SQL Editorì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìˆœì°¨ ì‹¤í–‰:
   - `20251205000000_initial_schema.sql`
   - `20251205000001_advanced_features.sql`
   - `20251205000002_add_invite_code.sql`
   - `20251205000003_add_finished_at.sql`

### 10.2 ê°œë°œ ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… |
|--------|------|
| `npm run dev` | ê°œë°œ ì„œë²„ ì‹¤í–‰ (http://localhost:3000) |
| `npm run build` | í”„ë¡œë•ì…˜ ë¹Œë“œ |
| `npm run generate` | ì •ì  ì‚¬ì´íŠ¸ ìƒì„± (SSG) |
| `npm run preview` | ë¹Œë“œ ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸° |

### 10.3 ì½”ë“œ ìŠ¤íƒ€ì¼ ê°€ì´ë“œ

#### 10.3.1 Vue 3 Composition API

```vue
<script setup lang="ts">
import { ref, computed, onMounted } from 'vue'

// Props ì„ ì–¸
const props = defineProps<{
  title: string
  count?: number
}>()

// Emits ì„ ì–¸
const emit = defineEmits<{
  update: [value: string]
  delete: []
}>()

// ìƒíƒœ
const localValue = ref('')

// Computed
const displayText = computed(() =>
  `${props.title}: ${localValue.value}`
)

// ë©”ì„œë“œ
const handleClick = () => {
  emit('update', localValue.value)
}

// ë¼ì´í”„ì‚¬ì´í´
onMounted(() => {
  console.log('Component mounted')
})
</script>
```

#### 10.3.2 Tailwind CSS ì‚¬ìš©

```vue
<template>
  <!-- ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ ìš°ì„  -->
  <div class="flex items-center gap-4 p-6 bg-zinc-900 rounded-xl">
    <img :src="avatar" class="w-12 h-12 rounded-full" />
    <div class="flex-1">
      <h3 class="font-bold text-white">{{ name }}</h3>
      <p class="text-sm text-zinc-400">{{ bio }}</p>
    </div>
  </div>
</template>
```

#### 10.3.3 Supabase ì¿¼ë¦¬ íŒ¨í„´

```typescript
// ë‹¨ì¼ ë ˆì½”ë“œ ì¡°íšŒ
const { data, error } = await client
  .from('users')
  .select('*')
  .eq('id', userId)
  .single()

// ì¡°ì¸ ì¿¼ë¦¬
const { data } = await client
  .from('group_members')
  .select(`
    id,
    role,
    user:users(
      nickname,
      avatar_url
    )
  `)
  .eq('group_id', groupId)

// ì¹´ìš´íŠ¸ ì¡°íšŒ
const { count } = await client
  .from('comments')
  .select('*', { count: 'exact', head: true })
  .eq('group_book_id', bookId)

// ì‚½ì…
const { error } = await client
  .from('comments')
  .insert({
    group_book_id: bookId,
    user_id: userId,
    content: text,
    position_pct: 50
  })
```

### 10.4 ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ê°€ì´ë“œ

#### 10.4.1 ìƒˆ í˜ì´ì§€ ì¶”ê°€

1. `pages/` ë””ë ‰í† ë¦¬ì— `.vue` íŒŒì¼ ìƒì„±
2. íŒŒì¼ ì´ë¦„ì´ ë¼ìš°íŠ¸ ê²½ë¡œê°€ ë¨ (ì˜ˆ: `pages/settings.vue` â†’ `/settings`)
3. ë™ì  ë¼ìš°íŠ¸: `pages/book/[isbn].vue` â†’ `/book/:isbn`

#### 10.4.2 ìƒˆ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€

1. `components/` ë””ë ‰í† ë¦¬ì— `.vue` íŒŒì¼ ìƒì„±
2. PascalCase ë„¤ì´ë° (ì˜ˆ: `MyComponent.vue`)
3. ìë™ import ì§€ì› (Nuxt 3 Auto Import)

#### 10.4.3 ìƒˆ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ì¶”ê°€

1. `supabase/migrations/` ë””ë ‰í† ë¦¬ì— ìƒˆ SQL íŒŒì¼ ìƒì„±
2. íƒ€ì„ìŠ¤íƒ¬í”„ í˜•ì‹ ë„¤ì´ë°: `YYYYMMDDHHMMSS_description.sql`
3. í…Œì´ë¸” ìƒì„± + RLS í™œì„±í™” + ì •ì±… ì •ì˜
4. Supabase SQL Editorì—ì„œ ì‹¤í–‰

#### 10.4.4 ìƒˆ Pinia Store ì¶”ê°€

```typescript
// stores/newStore.ts
import { defineStore } from 'pinia'
import { ref, computed } from 'vue'

export const useNewStore = defineStore('new', () => {
  const data = ref([])

  const count = computed(() => data.value.length)

  const fetchData = async () => {
    // ...
  }

  return {
    data,
    count,
    fetchData
  }
})
```

### 10.5 ë””ë²„ê¹…

#### 10.5.1 Vue Devtools

- Chrome/Firefox í™•ì¥ í”„ë¡œê·¸ë¨ ì„¤ì¹˜
- ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬, ìƒíƒœ, ì´ë²¤íŠ¸ í™•ì¸

#### 10.5.2 Supabase ë¡œê·¸

- Supabase ëŒ€ì‹œë³´ë“œ â†’ Logs
- RLS ì •ì±… ìœ„ë°˜, ì¿¼ë¦¬ ì˜¤ë¥˜ í™•ì¸

#### 10.5.3 ë„¤íŠ¸ì›Œí¬ íƒ­

- ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ â†’ Network
- Supabase API í˜¸ì¶œ í™•ì¸ (POST /rest/v1/...)

---

## 11. ë°°í¬ ë° ìš´ì˜

### 11.1 ë°°í¬ ì˜µì…˜

#### 11.1.1 Vercel (ê¶Œì¥)

```bash
# Vercel CLI ì„¤ì¹˜
npm i -g vercel

# ë°°í¬
vercel

# í”„ë¡œë•ì…˜ ë°°í¬
vercel --prod
```

**í™˜ê²½ ë³€ìˆ˜ ì„¤ì •:**
- Vercel Dashboard â†’ Settings â†’ Environment Variables
- `VITE_SUPABASE_URL`, `VITE_SUPABASE_ANON_KEY` ì¶”ê°€

#### 11.1.2 Netlify

```bash
# ë¹Œë“œ ëª…ë ¹ì–´: npm run build
# ë°°í¬ ë””ë ‰í† ë¦¬: .output/public
```

#### 11.1.3 ì •ì  í˜¸ìŠ¤íŒ… (SSG)

```bash
npm run generate
# .output/public í´ë”ë¥¼ í˜¸ìŠ¤íŒ…
```

### 11.2 PWA ì„¤ì •

`nuxt.config.ts`ì—ì„œ PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ìˆ˜ì •:

```typescript
pwa: {
  manifest: {
    name: 'Sidekick',
    short_name: 'Sidekick',
    theme_color: '#a3e635',
    background_color: '#09090b',
    display: 'standalone',
    icons: [
      {
        src: '/icon-192x192.png',
        sizes: '192x192',
        type: 'image/png'
      },
      {
        src: '/icon-512x512.png',
        sizes: '512x512',
        type: 'image/png'
      }
    ]
  }
}
```

### 11.3 ì„±ëŠ¥ ìµœì í™”

#### 11.3.1 ì´ë¯¸ì§€ ìµœì í™”

- í‘œì§€ ì´ë¯¸ì§€: WebP í¬ë§· ì‚¬ìš©
- Cloudinary, Imgix ë“± CDN í™œìš©
- Lazy Loading: `loading="lazy"` ì†ì„±

#### 11.3.2 ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…

- Nuxt 3 ìë™ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
- í˜ì´ì§€ë³„ ì²­í¬ ë¶„ë¦¬
- ì»´í¬ë„ŒíŠ¸ ë¹„ë™ê¸° ë¡œë“œ (í•„ìš” ì‹œ)

#### 11.3.3 ìºì‹± ì „ëµ

- Supabase ì¿¼ë¦¬ ê²°ê³¼ ìºì‹± (Nuxt Data Fetching)
- PWA ì„œë¹„ìŠ¤ ì›Œì»¤ë¡œ ì˜¤í”„ë¼ì¸ ì§€ì›

### 11.4 ëª¨ë‹ˆí„°ë§

#### 11.4.1 Supabase Analytics

- Supabase Dashboard â†’ Database â†’ Usage
- API í˜¸ì¶œ íšŸìˆ˜, ëŒ€ì—­í­, ì €ì¥ ìš©ëŸ‰ í™•ì¸

#### 11.4.2 Vercel Analytics (ì˜µì…˜)

- í˜ì´ì§€ ë¡œë“œ ì‹œê°„, Core Web Vitals
- ì‚¬ìš©ì ìœ ì… ê²½ë¡œ ë¶„ì„

#### 11.4.3 Error Tracking

- Sentry í†µí•© (ì˜µì…˜)
- í”„ë¡ íŠ¸ì—”ë“œ ì—ëŸ¬ ìë™ ìˆ˜ì§‘

### 11.5 ë°±ì—… ë° ë³µêµ¬

#### 11.5.1 ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…

- Supabase ìë™ ë°±ì—… (Pro Plan ì´ìƒ)
- ìˆ˜ë™ ë°±ì—…: SQL Editor â†’ Export

#### 11.5.2 ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡¤ë°±

```sql
-- í…Œì´ë¸” ì‚­ì œ ì˜ˆì‹œ (ì£¼ì˜!)
DROP TABLE IF EXISTS public.notifications;
```

---

## 12. í–¥í›„ ê°œì„  ì‚¬í•­

### 12.1 ë‹¨ê¸° ë¡œë“œë§µ (MVP ì™„ì„±)

- [ ] ê·¸ë£¹ ìƒì„± ê¸°ëŠ¥ êµ¬í˜„
- [ ] ì´ˆëŒ€ ì½”ë“œ ê²€ì¦ ë¡œì§ ì¶”ê°€
- [ ] ì‹¤ì œ ì±… ê²€ìƒ‰ API ì—°ë™ (Kakao, Naver, Google Books)
- [ ] ì•Œë¦¼ ì‹œìŠ¤í…œ íŠ¸ë¦¬ê±° ìë™í™” (Database Functions)
- [ ] í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ (Supabase Storage)

### 12.2 ì¤‘ê¸° ë¡œë“œë§µ

- [ ] í…ìŠ¤íŠ¸ ì„ íƒ â†’ ì¸ìš© ê¸°ëŠ¥ (anchor_text ìë™ ì¶”ì¶œ)
- [ ] ëŒ“ê¸€ ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥
- [ ] ê·¸ë£¹ ë‚´ ê³µì§€ì‚¬í•­ ê¸°ëŠ¥
- [ ] ë…ì„œ ì§„í–‰ë¥  ì‹œê°í™” ì°¨íŠ¸
- [ ] ë‹¤í¬/ë¼ì´íŠ¸ í…Œë§ˆ ì „í™˜

### 12.3 ì¥ê¸° ë¡œë“œë§µ

- [ ] ë„¤ì´í‹°ë¸Œ ì•± ê°œë°œ (React Native, Flutter)
- [ ] AI ê¸°ë°˜ ë…ì„œ ì¶”ì²œ
- [ ] ìŒì„± ë©”ëª¨ ê¸°ëŠ¥
- [ ] ë…ì„œ ì±Œë¦°ì§€ ë° ë°°ì§€ ì‹œìŠ¤í…œ
- [ ] ë‹¤êµ­ì–´ ì§€ì› (i18n)

---

## 13. ë¬¸ì œ í•´ê²° (Troubleshooting)

### 13.1 ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œ

#### 13.1.1 Supabase ì—°ê²° ì˜¤ë¥˜

**ì¦ìƒ:** "Failed to fetch" ë˜ëŠ” CORS ì—ëŸ¬

**í•´ê²°:**
1. `.env` íŒŒì¼ì˜ URL ë° Key í™•ì¸
2. Supabase Dashboard â†’ Settings â†’ API â†’ URLì´ httpsë¡œ ì‹œì‘í•˜ëŠ”ì§€ í™•ì¸
3. ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ í™•ì¸

#### 13.1.2 RLS ì •ì±… ìœ„ë°˜

**ì¦ìƒ:** "new row violates row-level security policy"

**í•´ê²°:**
1. Supabase Dashboard â†’ Authentication â†’ Usersì—ì„œ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
2. SQL Editorì—ì„œ ì •ì±… ì¬í™•ì¸:
   ```sql
   SELECT * FROM pg_policies WHERE tablename = 'your_table';
   ```
3. í•„ìš” ì‹œ ì •ì±… ìˆ˜ì • ë˜ëŠ” í…ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ RLS ë¹„í™œì„±í™”

#### 13.1.3 Realtime êµ¬ë… ë™ì‘ ì•ˆ í•¨

**ì¦ìƒ:** ìƒˆ ëŒ“ê¸€ì´ ìë™ìœ¼ë¡œ í‘œì‹œë˜ì§€ ì•ŠìŒ

**í•´ê²°:**
1. Supabase Dashboard â†’ Database â†’ Replication í™•ì¸
2. `comments` í…Œì´ë¸”ì˜ Realtime í™œì„±í™” ì—¬ë¶€ í™•ì¸
3. ì½”ë“œì—ì„œ ì±„ë„ êµ¬ë… ë¡œê·¸ ì¶œë ¥:
   ```typescript
   realtimeChannel = client.channel('public:comments')
     .on('postgres_changes', {...}, (payload) => {
       console.log('Received:', payload)
     })
     .subscribe((status) => {
       console.log('Subscription status:', status)
     })
   ```

#### 13.1.4 ë¹Œë“œ ì˜¤ë¥˜

**ì¦ìƒ:** `npm run build` ì‹¤íŒ¨

**í•´ê²°:**
1. `node_modules` ì‚­ì œ í›„ ì¬ì„¤ì¹˜:
   ```bash
   rm -rf node_modules
   npm install
   ```
2. Nuxt ë²„ì „ í˜¸í™˜ì„± í™•ì¸ (package.json)
3. TypeScript íƒ€ì… ì˜¤ë¥˜ í™•ì¸ (`nuxi typecheck`)

---

## 14. ë¼ì´ì„ ìŠ¤ ë° ê¸°ì—¬

### 14.1 ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

### 14.2 ê¸°ì—¬ ë°©ë²•

1. Fork ìƒì„±
2. Feature ë¸Œëœì¹˜ ìƒì„± (`git checkout -b feature/AmazingFeature`)
3. ë³€ê²½ ì‚¬í•­ ì»¤ë°‹ (`git commit -m 'Add some AmazingFeature'`)
4. ë¸Œëœì¹˜ì— Push (`git push origin feature/AmazingFeature`)
5. Pull Request ìƒì„±

### 14.3 ì½”ë“œ ë¦¬ë·° ê°€ì´ë“œë¼ì¸

- ëª¨ë“  PRì€ ìµœì†Œ 1ëª…ì˜ ë¦¬ë·°ì–´ ìŠ¹ì¸ í•„ìš”
- ë¦°íŒ… ë° íƒ€ì… ì²´í¬ í†µê³¼ í•„ìˆ˜
- ì£¼ìš” ê¸°ëŠ¥ ë³€ê²½ ì‹œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€ ê¶Œì¥

---

## 15. ì°¸ê³  ìë£Œ

### 15.1 ê³µì‹ ë¬¸ì„œ

- [Nuxt 3 Documentation](https://nuxt.com/docs)
- [Vue 3 Documentation](https://vuejs.org/)
- [Supabase Documentation](https://supabase.com/docs)
- [Tailwind CSS Documentation](https://tailwindcss.com/docs)
- [Pinia Documentation](https://pinia.vuejs.org/)

### 15.2 ê´€ë ¨ íŠœí† ë¦¬ì–¼

- [Nuxt 3 + Supabase Auth Tutorial](https://supabase.com/docs/guides/auth/auth-helpers/nuxt)
- [Building a Realtime App with Supabase](https://supabase.com/docs/guides/realtime)
- [Tailwind CSS Mobile-First Design](https://tailwindcss.com/docs/responsive-design)

### 15.3 ì»¤ë®¤ë‹ˆí‹°

- [Nuxt Discord](https://discord.com/invite/ps2h6QT)
- [Supabase Discord](https://discord.supabase.com/)
- [Vue.js Korea Facebook Group](https://www.facebook.com/groups/vuejs.korea/)

---

## 16. ì—°ë½ì²˜

í”„ë¡œì íŠ¸ ê´€ë¦¬ì: [Your Name]
ì´ë©”ì¼: your.email@example.com
GitHub: [github.com/your-username/sidekick](https://github.com/your-username/sidekick)

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:** 2024-12-05
**ë¬¸ì„œ ë²„ì „:** 1.0.0
**í”„ë¡œì íŠ¸ ìƒíƒœ:** MVP ê°œë°œ ì™„ë£Œ
